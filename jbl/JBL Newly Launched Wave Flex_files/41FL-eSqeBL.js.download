'use strict';mix_d("BuffetDisclaimersCards__buffet-disclaimers-card:buffet-disclaimers-card__Q-XdyNDi","require exports tslib @c/remote-operations @c/scoped-dom @c/aui-utils @c/metrics".split(" "),function(za,ia,x,Aa,Ba,L,Ca){function ja(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}function Da(a){if(a&&a.__esModule)return a;var b=Object.create(null);a&&Object.keys(a).forEach(function(c){if("default"!==c){var f=Object.getOwnPropertyDescriptor(a,c);Object.defineProperty(b,c,f.get?
f:{enumerable:!0,get:function(){return a[c]}})}});b["default"]=a;return b}var Ea=ja(Aa),q=ja(Ba),ka;(function(a){a.BEFORE_FIRST_OPEN="before first open";a.OPEN="open";a.CLOSE="close"})(ka||(ka={}));var la;(function(a){a.RIGHT_OUT_OF_SCREEN="-120%";a.INSIDE_SCREEN="0px"})(la||(la={}));var B;(function(a){a.MOBILE="mobile";a.DESKTOP="desktop"})(B||(B={}));var C;(function(a){a.ATF="ATF";a.BTF="BTF"})(C||(C={}));var I;(function(a){a.GPSR="GPSR";a.ENV="ENV"})(I||(I={}));var M;(function(a){a.Sidesheet="Sidesheet";
a.BTF="BTF"})(M||(M={}));var ma;(function(a){a.FATAL="FATAL";a.ERROR="ERROR";a.WARN="WARN"})(ma||(ma={}));var y;(function(a){a[a.PSI=0]="PSI";a[a.RSP_MANUFACTURER=1]="RSP_MANUFACTURER";a[a.PD=2]="PD";a[a.RED=3]="RED"})(y||(y={}));var g;(function(a){a[a.RSP=0]="RSP";a[a.MANUFACTURER=1]="MANUFACTURER";a[a.PSI=2]="PSI";a[a.PD=3]="PD";a[a.RED=4]="RED"})(g||(g={}));var m;(function(a){a.CLIENT_LOAD="Buffet.Client.Load";a.RED_LOADED_CHARGER_INCLUDED="Buffet.Client.RedChargerIncludedLoaded";a.RED_LOADED_NO_CHARGER_INCLUDED=
"Buffet.Client.RedNoChargerIncludedLoaded";a.INGRESS_LINK_CLICK="Buffet.Sidesheet.IngressLinkClick";a.RSP_INGRESS_LINK_CLICK="Buffet.Sidesheet.RspIngressLinkClick";a.PD_INGRESS_LINK_CLICK="Buffet.Sidesheet.PdIngressLinkClick";a.PSI_INGRESS_LINK_CLICK="Buffet.Sidesheet.PsiIngressLinkClick";a.RED_ICON_CLICK_CHARGER_INCLUDED="Buffet.Sidesheet.RedIconClickChargerIncluded";a.RED_ICON_CLICK_NO_CHARGER_INCLUDED="Buffet.Sidesheet.RedIconClickNoChargerIncluded";a.RED_LINK_CLICK_CHARGER_INCLUDED="Buffet.Sidesheet.RedLinkClickChargerIncluded";
a.RED_LINK_CLICK_NO_CHARGER_INCLUDED="Buffet.Sidesheet.RedLinkClickNoChargerIncluded";a.SIDESHEET_OPENED="Buffet.Sidesheet.Open";a.SIDESHEET_CLOSED="Buffet.Sidesheet.Close";a.SIDESHEET_DWELL_TIME="Buffet.Sidesheet.DwellTime";a.SIDESHEET_CONTENT_LOADED="Buffet.SdesheetContent.Load";a.SIDESHEET_CONTENT_LOAD_LATENCY="Buffet.SidesheetContent.LoadLatency";a.PSI_PILL_CLICK="Buffet.SidesheetContent.PsiPillClick";a.MANUFACTURER_PILL_CLICK="Buffet.SidesheetContent.ManufacturerPillClick";a.RSP_PILL_CLICK="Buffet.SidesheetContent.RspPillClick";
a.PD_PILL_CLICK="Buffet.SidesheetContent.PdPillClick";a.RED_PILL_CLICK="Buffet.SidesheetContent.RedPillClick";a.PSI_ZOOM_IN_CLICK="Buffet.SidesheetContent.PsiZoomInClick";a.PSI_ZOOM_OUT_CLICK="Buffet.SidesheetContent.PsiZoomOutClick";a.PD_SIDESHEET_WINDOW_OPEN_CLICK="Buffet.SidesheetContent.PdWindowOpen";a.GPSR_EXPANDER_OPEN="Buffet.Sidesheet.GpsrExpanderOpen";a.ENVIORNMENTAL_EXPANDER_OPEN="Buffet.Sidesheet.EnviornmantalExpanderOpen";a.PD_BTF_WINDOW_OPEN_CLICK="Buffet.BtfContent.PdWindowOpen";a.MISSING_ASIN_ERROR=
"Buffet.MissingAsin.Error";a.MISSING_CRUCIAL_ELEMENTS_ERROR="Buffet.MissingCrucialElements.Error";a.MISSING_GPSR_CONTENT_ERROR="Buffet.MissingGpsrContent.Error";a.MISSING_PD_ELEMENTS_ERROR="Buffet.MissingExpectedPdElements.Error";a.SIDESHEET_OPEN_ERROR="Buffet.Sidesheet.Open.Error";a.SIDESHEET_CONTENT_LOAD_ERROR="Buffet.Sidesheet.ContentLoad.Error";a.ALL_AAPI_CALL_FAIL="Buffet.AllAapiCall.FAIL";a.RSP_MANUFACTURER_AAPI_CALL_FAIL="Buffet.RspManufacturerAapiCall.FAIL";a.PSI_AAPI_CALL_FAIL="Buffet.PsiAapiCall.FAIL";
a.PD_AAPI_CALL_FAIL="Buffet.PdAapiCall.FAIL";a.RED_AAPI_CALL_FAIL="Buffet.RedAapiCall.FAIL"})(m||(m={}));var na=new Map([[g.RSP,{aapiCallFailMetric:m.RSP_MANUFACTURER_AAPI_CALL_FAIL,pillClickMetric:m.RSP_PILL_CLICK}],[g.MANUFACTURER,{aapiCallFailMetric:m.RSP_MANUFACTURER_AAPI_CALL_FAIL,pillClickMetric:m.MANUFACTURER_PILL_CLICK}],[g.PSI,{aapiCallFailMetric:m.PSI_AAPI_CALL_FAIL,pillClickMetric:m.PSI_PILL_CLICK}],[g.PD,{aapiCallFailMetric:m.PD_AAPI_CALL_FAIL,pillClickMetric:m.PD_PILL_CLICK}],[g.RED,
{aapiCallFailMetric:m.RED_AAPI_CALL_FAIL,pillClickMetric:m.RED_PILL_CLICK}]]),Fa=new Map([[g.RSP,y.RSP_MANUFACTURER],[g.MANUFACTURER,y.RSP_MANUFACTURER],[g.PSI,y.PSI],[g.PD,y.PD],[g.RED,y.RED]]),Ga=new Map([[I.GPSR,m.GPSR_EXPANDER_OPEN],[I.ENV,m.ENVIORNMENTAL_EXPANDER_OPEN]]),O=function(a,b){a&&!a.classList.contains(b)&&a.classList.add(b)},P=function(a,b){a&&a.classList.contains(b)&&a.classList.remove(b)},Z=function(a){if(!a.every(function(b){return b})||!a.map(function(b){return null===b||void 0===
b?void 0:b.id}).every(function(b){return b}))throw Error("Some HTML elements are missing.");},oa=function(a){return{html:a.innerHTML,className:a.className,style:a.style.cssText}},Q=function(a,b){a.innerHTML=b.html;a.className=b.className;a.style.cssText=b.style},F;(function(a){a.LANDING_ASIN="buffet-btf-asin";a.OPEN_BUTTON_IMG_DOC_CONT="buffet-sidesheet-ingress";a.DISCLAIMER_CONTENT="buffet-disclaimer-content";a.CLOSE_BUTTON="buffet-sidesheet-close";a.DARKENED_BACKGROUND="buffet-darkened-background";
a.SIDESHEET_ROOT="buffet-sidesheet-root";a.SIDESHEET="buffet-sidesheet";a.SIDESHEET_CONTENT="buffet-sidesheet-content";a.SIDESHEET_CONTENT_HEADER="buffet-sidesheet-content-header";a.SIDESHEET_SUB_CONTENT="buffet-sidesheet-sub-content";a.SIDESHEET_CONTENT_BUFFER_SPINNER="buffet-sidesheet-content-spinner";a.SIDESHEET_ERROR_ALERT="buffet-sidesheet-error-alert";a.SIDESHEET_GPSR_PILLS_CONTAINER="buffet-sidesheet-gpsr-pills-container";a.SIDESHEET_ENV_PILLS_CONTAINER="buffet-sidesheet-env-pills-container";
a.SIDESHEET_RSP_PILL="buffet-sidesheet-rsp-pill";a.SIDESHEET_MANUFACTURER_PILL="buffet-sidesheet-manufacturer-pill";a.SIDESHEET_PSI_PILL="buffet-sidesheet-psi-pill";a.SIDESHEET_RSP_CONTENT="buffet-sidesheet-rsp-content-container";a.SIDESHEET_MANUFACTURER_CONTENT="buffet-sidesheet-manufacturer-content-container";a.SIDESHEET_PSI_CONTENT="buffet-sidesheet-psi-content-container";a.SIDESHEET_PSI_CAROUSEL="buffet-psi-component";a.SIDESHEET_RED_CONTENT="buffet-sidesheet-red-content-container";a.SIDESHEET_RED_PILL=
"buffet-product-red-pill";a.SIDESHEET_PD_CONTENT="buffet-sidesheet-product-docs-content-container";a.SIDESHEET_PD_PILL="buffet-product-docs-pill";a.RSP_MANUFACTURER_AAPI_FAIL="buffet-sidesheet-rsp-manufacturer-aapi-fail";a.PSI_AAPI_FAIL="buffet-sidesheet-psi-aapi-fail";a.PD_AAPI_FAIL="buffet-sidesheet-pd-aapi-fail";a.RED_AAPI_FAIL="buffet-sidesheet-mobile-red-aapi-fail";a.SIDESHEET_PD_LINKS_SECTION="product-docs-links";a.SIDESHEET_PD_LINK="product-docs-ingress-";a.SIDESHEET_PD_URL="buffet-product-docs-url-";
a.SIDESHEET_PD_LIST_SIZE="product-docs-list-size";a.BTF_PD_LINKS_SECTION="product-docs-btf-links";a.BTF_PD_LINK="product-docs-btf-ingress-";a.BTF_PD_URL="buffet-product-docs-btf-url-";a.BTF_PD_LIST_SIZE="product-docs-btf-list-size";a.PRODUCT_DOCS_BTF="product-docs-btf-section";a.GPSR_EXPANDER="buffet-sidesheet-gpsr-expander";a.GPSR_EXPANDER_HEADER="buffet-sidesheet-gpsr-expander-header";a.ENVIRONMENTAL_EXPANDER="buffet-sidesheet-env-expander";a.ENVIRONMENTAL_EXPANDER_HEADER="buffet-sidesheet-env-expander-header";
a.DYNAMIC_DOCUMENTS_INGRESS="buffet-dynamic-product-docs-ingress-btf";a.DYNAMIC_CONTACTS_INGRESS="buffet-dynamic-contacts-ingress-btf";a.DYNAMIC_IMAGES_INGRESS="buffet-dynamic-images-ingress-btf"})(F||(F={}));var pa;(function(a){a.DE="A1PA6795UKMFR9";a.FR="A13V1IB3VIYZZH";a.IT="APJ6JRA9NG5V4";a.ES="A1RKKUPIHCS9HS";a.NL="A1805IZSGTT6HS";a.SE="A2NODRKZP88ZB9";a.PL="A1C3SOZRARQ6R3";a.BE="AMEN7PMS3EDWL";a.IE="A28R8C7NBKEWEA"})(pa||(pa={}));var t=function(a,b,c,f){void 0===f&&(f=1);Ca.count(a+"."+b+"."+
c,f)},aa=function(a,b,c,f,e,l){var d=c.SIDESHEET_PD_LINKS_SECTION,k=c.SIDESHEET_PD_LIST_SIZE,h=c.SIDESHEET_PD_LINK,n=c.SIDESHEET_PD_URL,r=m.PD_SIDESHEET_WINDOW_OPEN_CLICK;a===M.BTF&&(d=c.BTF_PD_LINKS_SECTION,k=c.BTF_PD_LIST_SIZE,h=c.BTF_PD_LINK,n=c.BTF_PD_URL,r=m.PD_BTF_WINDOW_OPEN_CLICK);a=q["default"].cardRoot.querySelector("#"+d);k=q["default"].cardRoot.querySelector("#"+k);if(a&&k)for(a=function(u){var p=q["default"].cardRoot.querySelector("#"+h+u);u=q["default"].cardRoot.querySelector("#"+n+
u);if(p&&u){var w=u.value;p.addEventListener("click",function(){b?p.setAttribute("href",w):f.openWindow(w,"ProductDisplay");t(e,l,r)})}else t(e,l,m.MISSING_PD_ELEMENTS_ERROR)},c=0;c<parseInt(k.value);c++)a(c);else t(e,l,m.MISSING_PD_ELEMENTS_ERROR)},qa=function(a,b,c){if(a){var f=!1,e=a.querySelectorAll("li"),l=a.querySelectorAll("img");e.forEach(function(d,k){d.style.maxWidth="1600px";0===k?d.style.marginLeft="0px":k===e.length-1&&(d.style.marginRight="0px")});l.forEach(function(d){d.addEventListener("click",
function(){return x.__awaiter(void 0,void 0,void 0,function(){return x.__generator(this,function(k){switch(k.label){case 0:return f?(t(b,c,m.PSI_ZOOM_OUT_CLICK),e.forEach(function(h){h.style.width=""}),l.forEach(function(h){h.style.maxWidth="100%";var n=q["default"].cardRoot.querySelector("#"+h.id+"-zoomed-out").value;h.src=n}),f=!1):(t(b,c,m.PSI_ZOOM_IN_CLICK),e.forEach(function(h){h.style.width="1600px"}),l.forEach(function(h){h.style.maxWidth="1600px";var n=q["default"].cardRoot.querySelector("#"+
h.id+"-zoomed-in").value;h.src=n}),f=!0),[4,d.decode()];case 1:return k.sent(),d.scrollIntoView({block:"center",inline:"center"}),[2]}})})})})}},ba=new Map([[I.ENV,Array.from([g.RED])],[I.GPSR,Array.from([g.PSI,g.MANUFACTURER,g.RSP,g.PD])]]),Ha=function(a){return new Map([[g.RSP,{contentElement:q["default"].cardRoot.querySelector("#"+a.SIDESHEET_RSP_CONTENT),pillElement:q["default"].cardRoot.querySelector("#"+a.SIDESHEET_RSP_PILL)}],[g.MANUFACTURER,{contentElement:q["default"].cardRoot.querySelector("#"+
a.SIDESHEET_MANUFACTURER_CONTENT),pillElement:q["default"].cardRoot.querySelector("#"+a.SIDESHEET_MANUFACTURER_PILL)}],[g.PSI,{contentElement:q["default"].cardRoot.querySelector("#"+a.SIDESHEET_PSI_CONTENT),pillElement:q["default"].cardRoot.querySelector("#"+a.SIDESHEET_PSI_PILL)}],[g.PD,{contentElement:q["default"].cardRoot.querySelector("#"+a.SIDESHEET_PD_CONTENT),pillElement:q["default"].cardRoot.querySelector("#"+a.SIDESHEET_PD_PILL)}],[g.RED,{contentElement:q["default"].cardRoot.querySelector("#"+
a.SIDESHEET_RED_CONTENT),pillElement:q["default"].cardRoot.querySelector("#"+a.SIDESHEET_RED_PILL)}]])},R=function(a){return new Map([[I.GPSR,{headerElement:q["default"].cardRoot.querySelector("#"+a.GPSR_EXPANDER_HEADER),pillContainerElement:q["default"].cardRoot.querySelector("#"+a.SIDESHEET_GPSR_PILLS_CONTAINER)}],[I.ENV,{headerElement:q["default"].cardRoot.querySelector("#"+a.ENVIRONMENTAL_EXPANDER_HEADER),pillContainerElement:q["default"].cardRoot.querySelector("#"+a.SIDESHEET_ENV_PILLS_CONTAINER)}]])},
Ia=function(a,b){switch(b){case g.RSP:case g.MANUFACTURER:return a.RSP_MANUFACTURER_AAPI_FAIL;case g.PSI:return a.PSI_AAPI_FAIL;case g.PD:return a.PD_AAPI_FAIL;case g.RED:return a.RED_AAPI_FAIL}},Ja=function(a){switch(a){case g.RSP:case g.MANUFACTURER:return y.RSP_MANUFACTURER;case g.PSI:return y.PSI;case g.PD:return y.PD;case g.RED:return y.RED}},Ka=function(a,b){a.forEach(function(c,f){c.contentElement&&c.pillElement||(a.delete(f),b.delete(Ja(f)))})},S=function(a){var b;try{for(var c=x.__values(ba.keys()),
f=c.next();!f.done;f=c.next()){var e=f.value;if(ba.get(e).includes(a))return e}}catch(d){var l={error:d}}finally{try{f&&!f.done&&(b=c.return)&&b.call(c)}finally{if(l)throw l.error;}}throw Error("Content type not found in Expanders-ContentType mapping!");},La=function(a,b){var c,f;try{for(var e=x.__values(a.keys()),l=e.next();!l.done;l=e.next()){var d=l.value,k=a.get(d).pillElement,h=S(d),n=null===(f=b.get(h))||void 0===f?void 0:f.pillContainerElement;k&&n&&(k.addEventListener("click",ra(k,n)),k.setAttribute("role",
"tab"),n.setAttribute("role","tablist"))}}catch(u){var r={error:u}}finally{try{l&&!l.done&&(c=e.return)&&c.call(e)}finally{if(r)throw r.error;}}},ra=function(a,b){return function(){var c=b.offsetWidth,f=b.scrollWidth,e=a.offsetLeft-c/2+a.offsetWidth/2;0>e?e=0:e+c>f&&(e=f-c);b.scroll({behavior:"smooth",left:e})}},ua=function(a,b,c){var f;void 0===c&&(c=!1);var e=S(a);try{for(var l=x.__values(b.keys()),d=l.next();!d.done;d=l.next()){var k=d.value,h=b.get(k),n=S(k);if(n===e)k===a?sa(h):ta(h);else if(c){var r=
k;a:{var u=void 0,p=void 0,w=new Set(b.keys()),A=ba.get(n);if(A){try{for(var G=x.__values(A),D=G.next();!D.done;D=G.next()){var K=D.value;if(w.has(K)){var E=K;break a}}}catch(H){p={error:H}}finally{try{D&&!D.done&&(u=G.return)&&u.call(G)}finally{if(p)throw p.error;}}E=null}else throw Error("Expander must be defined in Expander-ContentType mapping!");}r===E?sa(h):ta(h)}}}catch(H){var v={error:H}}finally{try{d&&!d.done&&(f=l.return)&&f.call(l)}finally{if(v)throw v.error;}}},sa=function(a){O(a.pillElement,
"a-button-selected");a.pillElement.setAttribute("aria-selected","true");P(a.contentElement,"aok-hidden")},ta=function(a){P(a.pillElement,"a-button-selected");a.pillElement.setAttribute("aria-selected","false");O(a.contentElement,"aok-hidden")},va=function(a){var b,c;try{for(var f=x.__values(Object.values(I)),e=f.next();!e.done;e=f.next()){var l=e.value,d=null===(c=R(a).get(l))||void 0===c?void 0:c.headerElement,k=null===d||void 0===d?void 0:d.getAttribute("aria-expanded");d&&"true"===k&&d.click()}}catch(n){var h=
{error:n}}finally{try{e&&!e.done&&(b=f.return)&&b.call(f)}finally{if(h)throw h.error;}}},ca,da,J=new Set(Object.values(y).filter(function(a){return"number"===typeof a})),z,Ma=Object.keys(y).length/2,Ra=function(a,b,c,f,e,l,d,k,h,n,r){return x.__awaiter(void 0,void 0,void 0,function(){var u,p,w,A,G,D,K;return x.__generator(this,function(E){switch(E.label){case 0:u=Date.now();p=q["default"].cardRoot.querySelector("#"+d.SIDESHEET_CONTENT);w=q["default"].cardRoot.querySelector("#"+d.SIDESHEET_CONTENT_BUFFER_SPINNER);
A=q["default"].cardRoot.querySelector("#"+d.SIDESHEET_ERROR_ALERT);G=[p,w,A];try{Z(G)}catch(v){throw t(B.DESKTOP,C.BTF,m.MISSING_CRUCIAL_ELEMENTS_ERROR),Error();}a&&(ca=oa(w),da=oa(p));if(b)return[3,5];E.label=1;case 1:return E.trys.push([1,3,,4]),Q(w,ca),Q(p,da),D=q["default"].cardRoot.querySelector("#"+d.SIDESHEET_SUB_CONTENT),z=Ha(d),K=R(d),Na(D,c,e),Ka(z,J),La(z,K),Oa(c,e),[4,Pa(l,d,k,c,e,f,r)];case 2:E.sent();if(J.size===Ma)throw t(c,e,m.ALL_AAPI_CALL_FAIL),Error();w.style.opacity="0";t(c,e,
m.SIDESHEET_CONTENT_LOAD_LATENCY,Date.now()-u);L.delay(function(){O(w,"aok-hidden");P(D,"aok-hidden");p.style.opacity="1"},200);b=!0;return[3,4];case 3:return E.sent(),t(c,e,m.SIDESHEET_CONTENT_LOAD_ERROR),Q(w,ca),Q(p,da),P(A,"aok-hidden"),w.style.opacity="0",L.delay(function(){O(w,"aok-hidden");p.style.opacity="1"},200),[3,4];case 4:return[3,6];case 5:0!==J.size&&J.forEach(function(v){return x.__awaiter(void 0,void 0,void 0,function(){var H,ea,T,wa,U,xa,ya,V,W,fa,X,ha,Y;return x.__generator(this,
function(N){switch(N.label){case 0:H=v;switch(H){case y.PSI:return[3,1];case y.RSP_MANUFACTURER:return[3,3];case y.PD:return[3,5];case y.RED:return[3,7]}return[3,9];case 1:return[4,l.getPsiContent({asin:k})];case 2:return(ea=N.sent())&&"false"===ea.querySelector("#"+d.PSI_AAPI_FAIL).value?(J.delete(y.PSI),T=z.get(g.PSI).contentElement,T.style.opacity="0",L.delay(function(){T.innerHTML=ea.outerHTML;T.style.opacity="1"},500),wa=q["default"].cardRoot.querySelector("#"+d.SIDESHEET_PSI_CAROUSEL),qa(wa,
c,e)):t(c,e,m.PSI_AAPI_CALL_FAIL),[3,9];case 3:return[4,l.getRspManufacturerContent({asin:k})];case 4:return(U=N.sent())&&"false"===U.querySelector("#"+d.RSP_MANUFACTURER_AAPI_FAIL).value?(J.delete(y.RSP_MANUFACTURER),xa=U.querySelector("#"+d.SIDESHEET_RSP_CONTENT),ya=U.querySelector("#"+d.SIDESHEET_MANUFACTURER_CONTENT),V=z.get(g.RSP).contentElement,W=z.get(g.MANUFACTURER).contentElement,V.style.opacity="0",W.style.opacity="0",L.delay(function(){V.innerHTML=xa.innerHTML;W.innerHTML=ya.innerHTML;
V.style.opacity="1";W.style.opacity="1"},500)):t(c,e,m.RSP_MANUFACTURER_AAPI_CALL_FAIL),[3,9];case 5:return[4,l.getPdContent({asin:k})];case 6:return(fa=N.sent())&&"false"===fa.querySelector("#"+d.PD_AAPI_FAIL).value?(J.delete(y.PD),X=z.get(g.PD).contentElement,X.style.opacity="0",L.delay(function(){X.innerHTML=fa.innerHTML;aa(M.Sidesheet,f,d,r,c,e);X.style.opacity="1"},500)):t(c,e,m.PD_AAPI_CALL_FAIL),[3,9];case 7:return[4,l.getRedContent({asin:k})];case 8:return(ha=N.sent())&&"false"===ha.querySelector("#"+
d.RED_AAPI_FAIL).value?(J.delete(y.RED),Y=z.get(g.RED).contentElement,Y.style.opacity="0",L.delay(function(){Y.innerHTML=ha.innerHTML;Y.style.opacity="1"},500)):t(c,e,m.RED_AAPI_CALL_FAIL),[3,9];case 9:return[2]}})})}),E.label=6;case 6:return Qa(d,h,a,n,c,e),a=!1,[2,[a,b]]}})})},Oa=function(a,b){var c,f,e=function(h){null===(f=z.get(h))||void 0===f?void 0:f.pillElement.addEventListener("click",function(){ua(h,z);t(a,b,na.get(h).pillClickMetric)})};try{for(var l=x.__values(z.keys()),d=l.next();!d.done;d=
l.next())e(d.value)}catch(h){var k={error:h}}finally{try{d&&!d.done&&(c=l.return)&&c.call(l)}finally{if(k)throw k.error;}}},Pa=function(a,b,c,f,e,l,d){return x.__awaiter(void 0,void 0,void 0,function(){var k,h,n,r,u,p,w,A,G,D,K,E;return x.__generator(this,function(v){switch(v.label){case 0:k=null,v.label=1;case 1:v.trys.push([1,23,24,25]),h=x.__values(z.keys()),n=h.next(),v.label=2;case 2:if(n.done)return[3,22];r=n.value;u=z.get(r);p=void 0;w=r;switch(w){case g.PSI:return[3,3];case g.MANUFACTURER:return[3,
5];case g.RSP:return[3,5];case g.PD:return[3,8];case g.RED:return[3,10]}return[3,12];case 3:return[4,a.getPsiContent({asin:c})];case 4:return p=v.sent(),[3,12];case 5:return null!==k?[3,7]:[4,a.getRspManufacturerContent({asin:c})];case 6:k=v.sent(),v.label=7;case 7:return p=k,[3,12];case 8:return[4,a.getPdContent({asin:c})];case 9:return p=v.sent(),[3,12];case 10:return[4,a.getRedContent({asin:c})];case 11:return p=v.sent(),[3,12];case 12:if(!p||!u.contentElement||"false"!==(null===(E=p.querySelector("#"+
Ia(b,r)))||void 0===E?void 0:E.value))return[3,20];J.delete(Fa.get(r));A=r;switch(A){case g.PSI:return[3,13];case g.RSP:return[3,14];case g.MANUFACTURER:return[3,15];case g.PD:return[3,16];case g.RED:return[3,18]}return[3,19];case 13:return u.contentElement.innerHTML=p.outerHTML,v=q["default"].cardRoot.querySelector("#"+b.SIDESHEET_PSI_CAROUSEL),qa(v,f,e),[3,19];case 14:v=u;var H=p.querySelector("#"+b.SIDESHEET_RSP_CONTENT);v.contentElement.innerHTML=H.innerHTML;return[3,19];case 15:return v=u,H=
p.querySelector("#"+b.SIDESHEET_MANUFACTURER_CONTENT),v.contentElement.innerHTML=H.innerHTML,[3,19];case 16:return[4,Sa(u,p,b,l,d,f,e)];case 17:return v.sent(),[3,19];case 18:return u.contentElement.innerHTML=p.outerHTML,[3,19];case 19:return[3,21];case 20:t(f,e,na.get(r).aapiCallFailMetric),v.label=21;case 21:return n=h.next(),[3,2];case 22:return[3,25];case 23:return G=v.sent(),D={error:G},[3,25];case 24:try{n&&!n.done&&(K=h.return)&&K.call(h)}finally{if(D)throw D.error;}return[7];case 25:return[2]}})})},
Sa=function(a,b,c,f,e,l,d){return x.__awaiter(void 0,void 0,void 0,function(){return x.__generator(this,function(k){a.contentElement.innerHTML=b.outerHTML;aa(M.Sidesheet,f,c,e,l,d);return[2]})})},Na=function(a,b,c){try{Z([a])}catch(f){throw t(b,c,m.MISSING_CRUCIAL_ELEMENTS_ERROR),Error();}},Qa=function(a,b,c,f,e,l){var d,k,h=S(b);va(a);var n,r=null===(n=R(a).get(h))||void 0===n?void 0:n.headerElement;n=null===r||void 0===r?void 0:r.getAttribute("aria-expanded");r&&"false"===n&&(r.click(),t(e,l,Ga.get(h)));
if(c||f)ua(b,z,c),b=null===(d=z.get(b))||void 0===d?void 0:d.pillElement,a=null===(k=R(a).get(h))||void 0===k?void 0:k.pillContainerElement,b&&a&&ra(b,a)()};ia._operationNames=[];ia.card=function(){return x.__awaiter(void 0,void 0,void 0,function(){var a,b,c,f,e,l,d,k,h,n,r;return x.__generator(this,function(u){switch(u.label){case 0:return t(B.DESKTOP,C.BTF,m.CLIENT_LOAD),a=q["default"].cardRoot.querySelector("#"+F.LANDING_ASIN),a&&a.value?[4,new Promise(function(p,w){za(["@p/buffet-sidesheet"],
function(A){p(Da(A))},w)})]:(t(B.DESKTOP,C.BTF,m.MISSING_ASIN_ERROR),[2]);case 1:b=u.sent().default;q["default"].cardRoot.querySelector("#"+F.PRODUCT_DOCS_BTF)&&aa(M.BTF,!1,F,b,B.DESKTOP,C.BTF);c=q["default"].cardRoot.querySelector("#"+F.OPEN_BUTTON_IMG_DOC_CONT);f=q["default"].cardRoot.querySelector("#"+F.DARKENED_BACKGROUND);e=q["default"].cardRoot.querySelector("#"+F.CLOSE_BUTTON);l=[c,f,e];try{Z(l)}catch(p){return t(B.DESKTOP,C.BTF,m.MISSING_CRUCIAL_ELEMENTS_ERROR),[2]}d=Ea["default"].setup(["getRspManufacturerContent",
"getPsiContent","getPdContent"]);b.initialize();k=!0;h=!1;c.addEventListener("click",function(p){return x.__awaiter(void 0,void 0,void 0,function(){var w;return x.__generator(this,function(A){switch(A.label){case 0:return p.preventDefault(),t(B.DESKTOP,C.BTF,m.INGRESS_LINK_CLICK),b.showSidesheet(),e.focus(),t(B.DESKTOP,C.BTF,m.SIDESHEET_OPENED),[4,Ra(k,h,B.DESKTOP,!1,C.BTF,d,F,a.value,g.PSI,!1,b)];case 1:w=x.__read.apply(void 0,[A.sent(),2]);k=w[0];if(h=w[1])t(B.DESKTOP,C.BTF,m.SIDESHEET_CONTENT_LOADED),
n=Date.now();return[2]}})})});r=function(){b.closeSidesheet();va(F);t(B.DESKTOP,C.BTF,m.SIDESHEET_CLOSED);h&&t(B.DESKTOP,C.BTF,m.SIDESHEET_DWELL_TIME,Date.now()-n)};e.addEventListener("click",function(){r()});f.addEventListener("click",function(){r()});return[2]}})})}});
