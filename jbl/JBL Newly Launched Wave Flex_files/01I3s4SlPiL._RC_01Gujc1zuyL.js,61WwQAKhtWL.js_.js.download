(function(b){var c=window.AmazonUIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("DetailPageLayoutAssets",""):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.when("A","ready").execute(function(a){var b,d=a.$;a.on("a:expander:zones_progressive_disclosure_expander:toggle:collapse",function(a){(a=d("#dp-pr-top"))&&a.length||c.scrollTo({top:b})});a.on("a:expander:zones_progressive_disclosure_expander:toggle:expand",function(a){b=d(c).scrollTop()})})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPageBylineInfoAssets@core","DetailPageBylineInfo"):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
'use strict';(function(q){var h=window.AmazonUIPageJS||window.P,m=h._namespace||h.attributeErrors,J=m?m("SocialShareWidgetAUI","AmazonUI"):h;J.guardFatal?J.guardFatal(q)(J,window):J.execute(function(){q(J,window)})})(function(q,h,m){function J(l){if(Array.isArray(l)){for(var e=0,m=Array(l.length);e<l.length;e++)m[e]=l[e];return m}return Array.from(l)}"use strict";"use strict";q.register("SocialShareWidget",function(){var l;(function(){var e={353:function(g,a,k){Object.defineProperty(a,"__esModule",
{value:!0});var f=k(905),c=k(738);g=function(){function a(){var u=this;this.generateTimestampCollection=function(){var a=(new Date).getTimezoneOffset();a=u.getDateTimeByOffset(a);var d=u.getDateTimeByOffset(0);return{hitDay:a.split("T")[0],hitDatetime:a,hitDatetimeUtc:d}};this.getMarketplaceId=function(a){return"string"==typeof a?a:h.ue&&h.ue.mid?h.ue.mid:c.CSA_DEFAULT_VALUE.string};var d=this.generateTimestampCollection();this.csaMetricsData={schemaId:a.CSA_SCHEMA_ID,userAgentId:c.CSA_DEFAULT_VALUE.number,
hitDay:d.hitDay,hitDatetime:d.hitDatetime,hitDatetimeUtc:d.hitDatetimeUtc,pageType:h.ue_pty?h.ue_pty:c.CSA_DEFAULT_VALUE.string,subPageType:h.ue_spty?h.ue_spty:c.CSA_DEFAULT_VALUE.string,sessionId:h.ue&&h.ue.sid?h.ue.sid:c.CSA_DEFAULT_VALUE.string}}return a.prototype.withCSAClickEventData=function(a){var d=a.shareDataAttributes;if(this.csaMetricsData.customerId=d.customerId?d.customerId:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.httpRequestId=d.requestId?d.requestId:c.CSA_DEFAULT_VALUE.string,
this.csaMetricsData.asin=d.asin?d.asin:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.ingress=d.ingress?d.ingress:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.platform=d.platform?d.platform:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.isInternal=this.getCSANumberMapping(d.isInternal),this.csaMetricsData.isRobot=this.getCSANumberMapping(d.isRobot),this.csaMetricsData.channel=a.channel?a.channel:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.refMarker=a.refMarker?a.refMarker:c.CSA_DEFAULT_VALUE.string,
this.csaMetricsData.referrerUrl=a.refererURL?a.refererURL:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.marketplaceId=this.getMarketplaceId(d.marketplaceId),this.csaMetricsData.isExperiment=/T\d+/.test(a.treatment)?"Y":"N",this.csaMetricsData.triggeredFromScreenshotToast=!!d.triggeredFromScreenshotToast&&d.triggeredFromScreenshotToast,a.weblab)d=this.csaMetricsData.shareEntities,(d=void 0===d?{}:d)[a.weblab]=a.treatment,this.csaMetricsData.shareEntities=d;a.customizeShareCSAData&&(d=this.csaMetricsData.shareEntities,
d=void 0===d?{}:d,a.customizeShareCSAData.isCustomizedExperienceEnabled===c.TRUE&&(d.backgroundImagePhysicalId=a.customizeShareCSAData.backgroundImagePhysicalId,d.deviceCoverImagePhysicalId=a.customizeShareCSAData.deviceCoverImagePhysicalId,d.hasQuote=a.customizeShareCSAData.hasQuote,d.isCustomized=a.customizeShareCSAData.isCustomized,d.customizePreSelected=a.customizeShareCSAData.customizePreSelected,d.isQuotesAvailable=a.customizeShareCSAData.isQuotesAvailable,this.csaMetricsData.shareEntities=
d));a.isCustomShareOptionsSheetEnabled&&(d=this.csaMetricsData.shareEntities,(d=void 0===d?{}:d).isCustomShareOptionsSheetEnabled="1",this.csaMetricsData.shareEntities=d);a.caf&&(d=this.csaMetricsData.shareEntities,(d=void 0===d?{}:d).cafSwitchEnabled=a.cafSwitchEnabled?c.TRUE:c.FALSE,this.csaMetricsData.shareEntities=d);a.cafEdCXIngressWeblabTreatment&&(d=this.csaMetricsData.shareEntities,(d=void 0===d?{}:d).cafEdCxIngressWelabT1="T1"===a.cafEdCXIngressWeblabTreatment?c.TRUE:c.FALSE,d.cafEdCxIngressWelabT2=
"T2"===a.cafEdCXIngressWeblabTreatment?c.TRUE:c.FALSE);return this},a.prototype.withShareHitType=function(a){return this.csaMetricsData.shareHitType=a||c.CSA_DEFAULT_VALUE.string,this},a.prototype.getCSANumberMapping=function(a){return isNaN(Number(a))?2:Number(a)},a.prototype.getDateTimeByOffset=function(b){var d=new Date;0!==b&&(b*=a.MINUTES_TO_MILISECONDS,d=d.getTime()-b,d=new Date(d));return d.toISOString().split("Z")[0].split(".")[0]},a.prototype.logEvent=function(){(0,f.isCSALoaded)()&&h.csa(a.CSAPluginId,
{producerId:a.CSA_PRODUCER_ID})(a.CSA_LOG_EVENT,this.csaMetricsData)},a.MINUTES_TO_MILISECONDS=6E4,a.CSAPluginId="Events",a.CUSTOMIZE_SHARE_ENTITY_NAME="CustomizeShare",a.CSA_PRODUCER_ID="social-share",a.CSA_LOG_EVENT="log",a.CSA_SCHEMA_ID="SocialShareCSACustomEvent.CSAShareMetrics.8",a}();a.default=g},158:function(g,a,k){Object.defineProperty(a,"__esModule",{value:!0});var f=k(905),c=k(738);g=function(){function a(){}return a.logCountOnce=function(a){(0,f.isUeAvailable)()&&h.ue.count(a,(h.ue.count(a)||
0)+1)},a.emitFullMetricName=function(a,d,b){var u=this;(0,f.isAUILoaded)()&&h.P.when("A").execute(function(c){c.trigger("".concat(u.BASE_METRIC_NAME,":metrics:logged"),{fullMetricName:a,callee:d,message:b})})},a.emitCounter=function(a){a=this.buildMetricName(a);this.emitFullMetricName(a,"emitCounter");this.logCountOnce(a)},a.startTimer=function(a){a="".concat(this.buildMetricName(a),".").concat(this.LATENCY);this.timers[a]=h.uet&&h.uet("bb",a,{wb:1})},a.stopTimer=function(a){a="".concat(this.buildMetricName(a),
".").concat(this.LATENCY);var d=this.timers[a];(0,f.isUeAvailable)()&&d&&(d=h.uet("be",a,{wb:1})-d,h.ue.count(a,d),h.uex&&h.uex("ld",a,{wb:1}),this.emitFullMetricName(a,"stopTimer","".concat(d,"ms")),delete this.timers[a],this.timers["".concat(a,"_done_in")]=d)},a.buildMetricName=function(a){return[this.BASE_METRIC_NAME,a.actionSource,a.sheetType,a.action,a.feature,a.status].filter(function(a){return void 0!==a}).join(".")},a.emitIconClickCounter=function(a){this.emitCounter({actionSource:c.CSM_ACTION_SOURCE.ICON,
sheetType:a,action:c.CSM_ACTION.ICON_CLICK})},a.emitIconRenderCounter=function(a){this.emitCounter({actionSource:c.CSM_ACTION_SOURCE.ICON,action:c.CSM_ACTION.RENDER,status:a})},a.emitSheetOpenCounter=function(a,d){this.emitCounter({actionSource:c.CSM_ACTION_SOURCE.SHARE_SHEET,sheetType:a,action:c.CSM_ACTION.SHEET_OPEN,status:d})},a.emitSheetCloseCounter=function(a){this.emitCounter({actionSource:c.CSM_ACTION_SOURCE.SHARE_SHEET,sheetType:a,action:c.CSM_ACTION.SHEET_CLOSE})},a.emitChannelClickCounter=
function(a,d,b){this.emitCounter({actionSource:c.CSM_ACTION_SOURCE.SHARE_SHEET,sheetType:a,action:c.CSM_ACTION.CHANNEL_CLICK,feature:d,status:b})},a.emitEditIconClickCounter=function(){this.emitCounter({actionSource:c.CSM_ACTION_SOURCE.SHARE_SHEET,sheetType:c.CSM_SHEET_TYPE.CUSTOM,action:c.CSM_ACTION.EDIT_CLICK})},a.emitEditIconRenderCounter=function(a){this.emitCounter({actionSource:c.CSM_ACTION_SOURCE.SHARE_SHEET,sheetType:c.CSM_SHEET_TYPE.CUSTOM,action:c.CSM_ACTION.EDIT_RENDER,status:a})},a.emitImpressionCounter=
function(a){this.emitCounter({actionSource:c.CSM_ACTION_SOURCE.SHARE_SHEET,sheetType:a,action:c.CSM_ACTION.IMPRESSION})},a.BASE_METRIC_NAME="SocialShareFramework",a.LATENCY="Latency",a.timers={},a}();a.default=g},305:function(g,a){Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a,f){var c={email:{label:"Email",name:"email",ref:"em",shareBaseUrl:"mailto:",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","email-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"email-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(b){var d="?subject\x3d".concat(encodeURIComponent(a.emailSubject||a.title)),c="\x26body\x3d".concat(encodeURIComponent(a.title));b=encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return"".concat(this.shareBaseUrl).concat(d).concat(c," ").concat(b)}},pi:{label:"Pinterest",name:"pinterest",ref:"pi",shareBaseUrl:"https://www.pinterest.com/pin/create/button/",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"pinterest-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","pinterest-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(b){b="?url\x3d".concat(encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)));var d="\x26description\x3d".concat(encodeURIComponent(a.title)),c="\x26media\x3d".concat(encodeURIComponent(a.image));return"".concat(this.shareBaseUrl).concat(b).concat(d).concat(c,"\x26method\x3dbutton")}},li:{label:"Line",name:"line",ref:"li",
shareBaseUrl:"https://social-plugins.line.me/lineit/share",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","line-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","line-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(b){var d="?text\x3d".concat(encodeURIComponent(a.text)," ").concat(encodeURIComponent(a.title));b="\x26url\x3d".concat(encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)));return"".concat(this.shareBaseUrl).concat(d).concat(b)}},
fb:{label:"Facebook",name:"facebook",ref:"fa",shareBaseUrl:"https://www.facebook.com/dialog/share",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","facebook-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","facebook-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(b){b=encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));var d=encodeURIComponent(a.shareUrl.getReturnForChannel(this.ref).replace("_r_","_s_")),c=encodeURIComponent("#"+
(a.hashtags[0]||"Amazon"));b=["?_encoding\x3dUTF8\x26app_id\x3d465632727431967\x26display\x3dpopup","href\x3d".concat(b),"redirect_uri\x3d".concat(d),"hashtag\x3d".concat(c)].join("\x26");return"".concat(this.shareBaseUrl).concat(b)}},tw:{label:"X",name:"x",ref:"tw",shareBaseUrl:"https://twitter.com/intent/tweet",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","x-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","x-squared.svg"),canOpenInPopup:!0,
getSharingUrl:function(b){var d="?text\x3d".concat(encodeURIComponent(a.title));b="\x26url\x3d".concat(encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)));var c="\x26hashtags\x3d".concat(a.hashtags.join(",")),u="\x26via\x3d".concat(encodeURIComponent("Amazon"));return"".concat(this.shareBaseUrl).concat(d).concat(b).concat(c).concat(u)}},wa:{label:"WhatsApp",name:"whatsapp",ref:"wa",shareBaseUrl:"https://api.whatsapp.com/send?text\x3d",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"whatsapp-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","whatsapp-squared.svg"),canOpenInPopup:!0,getSharingUrl:function(b){b="\n              ".concat(encodeURIComponent(a.title),"\n              ").concat(encodeURIComponent(a.text),"\n              ").concat(encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)));return"".concat(this.shareBaseUrl).concat(b)}},sms:{label:"SMS",name:"sms",ref:"sms",shareBaseUrl:"sms:",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/",
"sms-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","sms-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(b){b="\n              ".concat(encodeURIComponent(a.title),"\n              ").concat(encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)));return"".concat(this.shareBaseUrl).concat(b)}},embed:{label:"Embed",name:"embed",ref:"eb",shareBaseUrl:"",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","embed-circular.svg"),
imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","embed-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(){return""}},copy:{label:"Copy",name:"copy",ref:"cp",shareBaseUrl:"",image:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","link-circular.svg"),imageSquared:"".concat("https://m.media-amazon.com/images/G/01/share-icons/","link-squared.svg"),canOpenInPopup:!1,getSharingUrl:function(){return""}}};if(null==f?0:f.length){var b={};return f.forEach(function(a){c[a]&&
(b[a]=c[a])}),b}return c}},738:function(g,a){var k,f,c,b,u,d;Object.defineProperty(a,"__esModule",{value:!0});a.CSM_STATUS=a.CSM_FEATURE=a.CSM_ACTION=a.CSM_SHEET_TYPE=a.CSM_ACTION_SOURCE=a.defaultCustomizeShareCSAData=a.defaultShareDataAttributes=a.REGEX_TO_REF_ID_AND_CHANNEL_APP=a.SSF_AUI_PACKAGE_ATTRIBUTION=a.BOOKS_CUSTOM_SHEET_CLICK_LATENCY_METRIC=a.CAF_CUSTOM_SHEET_CLICK_LATENCY_METRIC=a.CUSTOM_SHEET_CLICK_LATENCY_METRIC=a.TRUE=a.FALSE=a.BEST_FORMAT_REF=a.EMBED_CHANNEL_REF=a.CAF_REF_PREFIX=a.BOOKS_CUSTOMIZE_PREVIEW_NOT_AVAILABLE=
a.BOOKS_REF_PREFIX=a.CUSTOM_SHARE_OPTIONS_REF_PREFIX=a.CUSTOM_SHARE_OPTIONS_CP_CHANNEL_REF=a.CP_CHANNEL_REF=a.RAW_CHANNEL_PREFIX=a.EMPTY_STRING=a.DEFAULT_CSA_REF_ID=a.UNKNOWN=a.CAF_INFO_ICON_KEY=a.CAF_LEARN_MORE_KEY=a.CSA_DEFAULT_VALUE=a.customizeShareStateKey=a.customShareOptions=a.customize=a.CSA_HIT_TYPE=a.Err=void 0;a.Err={Abort:"AbortError",InvalidState:"InvalidStateError",NotAllowed:"NotAllowedError",Type:"TypeError",Data:"DataError"};(function(a){a.CLICK_SUCCESS="click_success";a.CLICK_ERROR=
"click_error";a.CLICK_CANCEL="click_cancel";a.SHARE="share";a.CUSTOMIZE_SHARE="click_customize_success"})(k||(a.CSA_HIT_TYPE=k={}));a.customize="customize";a.customShareOptions="customShareOptions";a.customizeShareStateKey="customizeShareCSAData";a.CSA_DEFAULT_VALUE={string:"unknown",number:0,boolean:2};a.CAF_LEARN_MORE_KEY="learn_more_link";a.CAF_INFO_ICON_KEY="info_icon";a.UNKNOWN="unknown";a.DEFAULT_CSA_REF_ID="u_";a.EMPTY_STRING="";a.RAW_CHANNEL_PREFIX="raw:";a.CP_CHANNEL_REF="cp";a.CUSTOM_SHARE_OPTIONS_CP_CHANNEL_REF=
"cso_cp";a.CUSTOM_SHARE_OPTIONS_REF_PREFIX="cso";a.BOOKS_REF_PREFIX="bks";a.BOOKS_CUSTOMIZE_PREVIEW_NOT_AVAILABLE="t2cna";a.CAF_REF_PREFIX="caf";a.EMBED_CHANNEL_REF="eb";a.BEST_FORMAT_REF="ffobk";a.FALSE="false";a.TRUE="true";a.CUSTOM_SHEET_CLICK_LATENCY_METRIC="CustomShareSheet.Click";a.CAF_CUSTOM_SHEET_CLICK_LATENCY_METRIC="Caf.CustomShareSheet.Click";a.BOOKS_CUSTOM_SHEET_CLICK_LATENCY_METRIC="Books.CustomShareSheet.Click";a.SSF_AUI_PACKAGE_ATTRIBUTION="SocialShareWidgetAUI";a.REGEX_TO_REF_ID_AND_CHANNEL_APP=
{instagram:{refId:"in",channel:"Instagram"},snap:{refId:"sn",channel:"Snapchat"},discord:{refId:"di",channel:"Discord"},viber:{refId:"vi",channel:"Viber"},telegram:{refId:"te",channel:"Telegram"},pinterest:{refId:"pi",channel:"Pinterest"},qzone:{refId:"qz",channel:"QQ Zone"},renren:{refId:"re",channel:"Renren"},twitter:{refId:"tw",channel:"Twitter"},airdrop:{refId:"ar",channel:"AirDrop"},tencentweibo:{refId:"tc",channel:"Tencent Weibo"},wechatmoment:{refId:"wm",channel:"WeChat Moment"},line:{refId:"li",
channel:"Line"},whatsapp:{refId:"wa",channel:"Whatsapp"},weibo:{refId:"si",channel:"Sina Weibo"},facebook:{refId:"fb",channel:"Facebook"}};a.defaultShareDataAttributes={isInternal:a.CSA_DEFAULT_VALUE.boolean,isRobot:a.CSA_DEFAULT_VALUE.boolean,userAgent:a.CSA_DEFAULT_VALUE.number,platform:a.CSA_DEFAULT_VALUE.string,ingress:a.CSA_DEFAULT_VALUE.string,asin:a.CSA_DEFAULT_VALUE.string,requestId:a.CSA_DEFAULT_VALUE.string,customerId:a.CSA_DEFAULT_VALUE.string,marketplaceId:a.CSA_DEFAULT_VALUE.string};
a.defaultCustomizeShareCSAData={backgroundImagePhysicalId:a.EMPTY_STRING,deviceCoverImagePhysicalId:a.EMPTY_STRING,hasQuote:a.EMPTY_STRING,isCustomizedExperienceEnabled:a.EMPTY_STRING,isCustomized:a.EMPTY_STRING};(function(a){a.SHARE_SHEET="ShareSheet";a.ICON="Icon"})(f||(a.CSM_ACTION_SOURCE=f={}));(function(a){a.CUSTOM="Custom";a.NATIVE="Native";a.POP_UP="PopUp";a.MODAL="Modal"})(c||(a.CSM_SHEET_TYPE=c={}));(function(a){a.ICON_CLICK="Click";a.RENDER="Render";a.SHEET_OPEN="SheetOpen";a.SHEET_CLOSE=
"SheetClose";a.CHANNEL_CLICK="ChannelClick";a.EDIT_CLICK="EditClick";a.EDIT_RENDER="EditRender";a.IMPRESSION="Impression"})(b||(a.CSM_ACTION=b={}));(function(a){a.SHARE="Share";a.CAF="CAF"})(u||(a.CSM_FEATURE=u={}));(function(a){a.SUCCESS="Success";a.FALLBACK_SUCCESS="FallbackSuccess";a.FAILURE="Failure"})(d||(a.CSM_STATUS=d={}))},905:function(g,a,k){Object.defineProperty(a,"__esModule",{value:!0});a.isSafari=a.isCSALoaded=a.isNativeAppShareAvailable=a.isNativeWebShareAvailable=a.isMobileWeb=a.isMobileApp=
a.isDesktop=a.isIpadIOS=a.isIOS=a.isAndroid=a.isIE=a.isAUILoaded=a.isUeAvailable=a.isClipboardAvailable=a.isRTL=a.isTwisterAsin=a.context=a.Device=void 0;var f,c=k(161);!function(a){a.Android="apan";a.IOS="apin";a.MWeb="mwn";a.Other="ud"}(f||(a.Device=f={}));a.context=function(){var b=f.Other;(0,a.isMobileApp)()&&(0,a.isAndroid)()?b=f.Android:(0,a.isMobileApp)()&&(0,a.isIOS)()?b=f.IOS:(0,a.isMobileWeb)()&&(b=f.MWeb);var d="unknown";return(0,a.isMobileApp)()?d="mshop":(0,a.isMobileWeb)()?d="mweb":
(0,a.isDesktop)()&&(d="desktop"),{device:b,page:(0,a.isUeAvailable)()?h.ue_pty:"unknown",subPage:(0,a.isUeAvailable)()?h.ue_spty||h.ue_pti:"unknown",platform:d}};a.isTwisterAsin=function(){return!!h.isTwisterPage||!!h.twisterController||b};a.isRTL=function(){return"rtl"===document.dir};a.isClipboardAvailable=function(){return!!navigator.clipboard&&(0,c.isFunction)(navigator.clipboard.writeText)};a.isUeAvailable=function(){return!!h.ue};a.isAUILoaded=function(){var a;return"undefined"!=typeof h&&(0,
c.isString)(null===(a=null===h||void 0===h?void 0:h.P)||void 0===a?void 0:a.AUI_BUILD_DATE)};a.isIE=function(){return(0,c.testUserAgent)(/MSIE|Trident/i)};a.isAndroid=function(){return(0,c.testUserAgent)(/android.([1-9]|[L-Z])/i)&&!(0,c.testUserAgent)(/trident|Edge/i)};a.isIOS=function(){return(0,c.testUserAgent)(/OS [1-9][0-9]*(_[0-9]*)+ like Mac OS X/i)&&!(0,c.testUserAgent)(/trident|Edge/i)};a.isIpadIOS=function(){return(0,c.testUserAgent)(/[a-zA-z]{1,}\/[0-99].[0-99] \(Macintosh; [a-zA-z]{1,} Mac OS X [1-9][0-9]*_[1-9][0-9]*_[1-9][0-9]*\) AppleWebKit\/[1-9][0-9]*.[1-9][0-9]*.[1-9][0-9]*/)||
(0,c.testUserAgent)(/iPad/)};a.isDesktop=function(){return!((0,a.isAndroid)()||(0,a.isIOS)()||(0,a.isMobileApp)()||(0,a.isMobileWeb)())};a.isMobileApp=function(){return/(Windowshop|Amazon|Amazon\.com)\//.test((0,c.getCookie)("amzn-app-id"))};a.isMobileWeb=function(){return 450>=h.screen.availWidth&&((0,c.testUserAgent)(/mobile|mini/i)||(0,a.isAndroid)()||(0,a.isIOS)())};a.isNativeWebShareAvailable=function(){return h.navigator&&(0,c.isFunction)(h.navigator.share)};a.isNativeAppShareAvailable=function(a){return a&&
(0,c.isFunction)(a.share)};a.isCSALoaded=function(){return(0,c.isFunction)(h.csa)};a.isSafari=function(){var a;return/apple/i.test(null===(a=h.navigator)||void 0===a?void 0:a.vendor)};var b=!1;(0,a.isAUILoaded)()&&h.P.when("mobile-inline-twister-critical").execute(function(){b=!0});a.default={context:a.context,isTwisterAsin:a.isTwisterAsin,isClipboardAvailable:a.isClipboardAvailable,isUeAvailable:a.isUeAvailable,isAUILoaded:a.isAUILoaded,isIE:a.isIE,isAndroid:a.isAndroid,isDesktop:a.isDesktop,isIOS:a.isIOS,
isIpadIOS:a.isIpadIOS,isMobileApp:a.isMobileApp,isMobileWeb:a.isMobileWeb,isNativeWebShareAvailable:a.isNativeWebShareAvailable,isNativeAppShareAvailable:a.isNativeAppShareAvailable,isCSALoaded:a.isCSALoaded,isSafari:a.isSafari,isRTL:a.isRTL}},869:function(g,a,k){Object.defineProperty(a,"__esModule",{value:!0});var f=k(738),c=k(905);g=function(){function a(){}return a.logFatal=function(a,d){(0,c.isAUILoaded)()&&(d=d?", error: ".concat(d.toString()):"",h.P.log("".concat(a).concat(d),"FATAL",this.BASE_METRIC_NAME))},
a.logError=function(a,d){(0,c.isAUILoaded)()&&(d=d?", error: ".concat(d.toString()):"",h.P.log("".concat(a).concat(d),"ERROR",this.BASE_METRIC_NAME))},a.logWarn=function(a,d){(0,c.isAUILoaded)()&&(d=d?", error: ".concat(d.toString()):"",h.P.log("".concat(a).concat(d),"WARN",this.BASE_METRIC_NAME))},a.logFatalAUI=function(a,d){(0,c.isAUILoaded)()&&(d=d?", error: ".concat(d.toString()):"",h.P.log("".concat(a).concat(d),"FATAL",f.SSF_AUI_PACKAGE_ATTRIBUTION))},a.logErrorAUI=function(a,d){(0,c.isAUILoaded)()&&
(d=d?", error: ".concat(d.toString()):"",h.P.log("".concat(a).concat(d),"ERROR",f.SSF_AUI_PACKAGE_ATTRIBUTION))},a.logWarnAUI=function(a,d){(0,c.isAUILoaded)()&&(d=d?", error: ".concat(d.toString()):"",h.P.log("".concat(a).concat(d),"WARN",f.SSF_AUI_PACKAGE_ATTRIBUTION))},a.BASE_METRIC_NAME="SocialShareFramework",a}();a.default=g},495:function(g,a,k){Object.defineProperty(a,"__esModule",{value:!0});var f=k(905),c=k(353),b=k(738);g=function(){function a(){}return a.logCountOnce=function(a){(0,f.isUeAvailable)()&&
h.ue.count(a,(h.ue.count(a)||0)+1)},a.emitFullMetricName=function(a,b,c){var d=this;(0,f.isAUILoaded)()&&h.P.when("A").execute(function(f){f.trigger("".concat(d.BASE_METRIC_NAME,":metrics:logged"),{fullMetricName:a,callee:b,message:c})})},a.logCounter=function(a,b){b=b?".".concat(b):"";a="".concat(this.BASE_METRIC_NAME,".").concat(a).concat(b);this.emitFullMetricName(a,"logCounter");this.logCountOnce(a)},a.logCounterRefactor=function(a,b){b=b?".".concat(b.toLowerCase()):"";a="".concat(this.BASE_METRIC_NAME).concat(b,
".").concat(this.platform).concat(this.metricName,".").concat(a.toLowerCase());this.emitFullMetricName(a,"logCounterRefactor");this.logCountOnce(a)},a.logLoad=function(a){a="".concat(this.BASE_METRIC_NAME,".").concat(this.platform).concat(this.metricName,".").concat(a.toLowerCase());this.logCountOnce(a)},a.logCSAEvent=function(a,b){(0,f.isCSALoaded)()&&(new c.default).withCSAClickEventData(b).withShareHitType(a).logEvent()},a.startTimer=function(a){a="".concat(this.BASE_METRIC_NAME,".").concat(this.LATENCY,
".").concat(a);this.timers[a]=h.uet&&h.uet("bb",a,{wb:1})},a.stopTimer=function(a){a="".concat(this.BASE_METRIC_NAME,".").concat(this.LATENCY,".").concat(a);var b=this.timers[a];(0,f.isUeAvailable)()&&b&&(b=h.uet("be",a,{wb:1})-b,h.ue.count(a,b),h.uex&&h.uex("ld",a,{wb:1}),this.emitFullMetricName(a,"stopTimer","".concat(b,"ms")),delete this.timers[a],this.timers["".concat(a,"_done_in")]=b)},a.BASE_METRIC_NAME="SocialShareFramework",a.LATENCY="Latency",a.platform=b.UNKNOWN,a.metricName="",a.timers=
{},a.getMetricName=function(b,c){var d;if(void 0===c&&(c=""),(0,f.isUeAvailable)()){var k=(0,f.context)();a.platform=k.platform;a.metricName=c?".".concat(c.toLowerCase()):""}b=b('[data-action\x3d"ssf-share-icon"]').data();c=c?".".concat(c):"";return b?(b=(null===(d=b.ssfShareIcon)||void 0===d?void 0:d.shareDataAttributes)||{},d=b.ingress,b=b.platform,b=void 0===b?"unknown":b,"".concat(void 0===d?"unknown":d,".").concat(b).concat(c).toLowerCase()):""},a}();a.default=g},241:function(g,a,k){Object.defineProperty(a,
"__esModule",{value:!0});var f,c=k(905),b=k(738);!function(a){a.RETURN="r";a.CLICK="cl"}(f||(f={}));g=function(){function a(a,f){if(void 0===a&&(a="ur"),void 0===f&&(f=void 0),this.PREFIX="cm_sw",this.id="",this.refId="",this._isBestFormatEnabled=!1,this.cxt={device:c.Device.Other,page:"",subPage:"",platform:b.UNKNOWN},2>a.length)throw new TypeError("refId must be 2 or more characters long");this.refId=a;this.cxt=(0,c.context)();this.treatment=f;this.generateUniqueId()}return Object.defineProperty(a.prototype,
"isBestFormatEnabled",{set:function(a){this._isBestFormatEnabled=a},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"return",{get:function(){return this.get(f.RETURN)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.get(f.CLICK)},enumerable:!1,configurable:!0}),a.prototype.getReturnForChannel=function(a){var d,c=null!==(d=this.treatment)&&void 0!==d?d:"";return[this.PREFIX,f.RETURN,this._isBestFormatEnabled?b.BEST_FORMAT_REF:
"",a,this.cxt.device,this.refId,c,this.id].filter(function(a){return a&&""!==a}).join("_")},a.prototype.getClickForChannel=function(a){return[this.PREFIX,f.CLICK,this._isBestFormatEnabled?b.BEST_FORMAT_REF:"",a,this.cxt.device,this.refId,this.id].filter(function(a){return a&&""!==a}).join("_")},a.prototype.generateUniqueId=function(){var a,b=null===(a=null===h||void 0===h?void 0:h.ue)||void 0===a?void 0:a.rid;return b||(b="".concat(Math.random().toString(36).slice(2)).concat(Math.random().toString(36).slice(2)).substring(0,
13)),this.id=b},a.prototype.get=function(a){var c,d=null!==(c=this.treatment)&&void 0!==c?c:"";return[this.PREFIX,a,this._isBestFormatEnabled?b.BEST_FORMAT_REF:"",this.cxt.device,this.refId,d,this.id].filter(function(a){return a&&""!==a}).join("_")},a}();a.default=g},198:function(g,a,k){var f=this&&this.__assign||function(){return f=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var f in b=arguments[c])Object.prototype.hasOwnProperty.call(b,f)&&(a[f]=b[f]);return a},f.apply(this,
arguments)};Object.defineProperty(a,"__esModule",{value:!0});var c,b=k(495),e=k(869),d=k(738),l=k(905),m=k(474),x=k(161),n=k(158);(0,l.isAUILoaded)()&&h.P.when("mash").execute(function(a){return c=a});g=function(){function a(a){this.sheetOptions={title:d.EMPTY_STRING,text:d.EMPTY_STRING,shareUrl:new m.default("http://amazon.com/","ur"),lang:"en",shareDataAttributes:d.defaultShareDataAttributes,refererURL:"",image:"",customizeShareCSAData:d.defaultCustomizeShareCSAData,isCustomShareOptionsSheetEnabled:!1};
this.sheetOptions=f(f({},this.sheetOptions),a);this.shareUrl=a.shareUrl}return a.prototype.launchNativeWeb=function(){var a,c=this,f=this.sheetOptions.shareDataAttributes.ingress,k={channel:d.EMPTY_STRING,refMarker:this.shareUrl.refMarker.click,refererURL:this.sheetOptions.refererURL,shareDataAttributes:this.sheetOptions.shareDataAttributes,customizeShareCSAData:this.sheetOptions.customizeShareCSAData},g=this.shareUrl.return;this.sheetOptions.tinyUrl&&(g=this.sheetOptions.tinyUrl,b.default.logCounter("MWeb.Tiny.Success"),
b.default.logCounterRefactor("Tiny.Success",f));var v=(0,x.isFunction)(this.sheetOptions.sheetShownCallback);try{null===(a=null===h||void 0===h?void 0:h.navigator)||void 0===a||a.share({url:g,title:this.sheetOptions.title,text:this.sheetOptions.text}).then(function(){v&&c.sheetOptions.sheetShownCallback();b.default.logCSAEvent(d.CSA_HIT_TYPE.CLICK_SUCCESS,k);b.default.logCSAEvent(d.CSA_HIT_TYPE.SHARE,k);b.default.logCounterRefactor("ChannelClick",c.sheetOptions.shareDataAttributes.ingress);b.default.logCounter("ShareClick");
n.default.emitChannelClickCounter(d.CSM_SHEET_TYPE.NATIVE,"Unknown")}).catch(function(a){switch(v&&c.sheetOptions.sheetShownCallback(),b.default.logCSAEvent(d.CSA_HIT_TYPE.CLICK_SUCCESS,k),a.name!=d.Err.Abort&&n.default.emitSheetOpenCounter(d.CSM_SHEET_TYPE.NATIVE,d.CSM_STATUS.FAILURE),a.name){case d.Err.Abort:b.default.logCSAEvent(d.CSA_HIT_TYPE.CLICK_CANCEL,k);e.default.logWarn("User cancelled share operation or no share targets available");n.default.emitSheetCloseCounter(d.CSM_SHEET_TYPE.NATIVE);
break;case d.Err.NotAllowed:e.default.logWarn("Web share permissions policy blocking share feature, no transient activation, or file is blocked for security considerations");break;case d.Err.Type:e.default.logWarn("Specified share data cannot be validated");break;case d.Err.Data:e.default.logWarn("Problem starting share target or transmitting data");break;case d.Err.InvalidState:e.default.logWarn("The document is not fully active, or other sharing operations are in progress");break;default:e.default.logWarn("Share error: ".concat(a.name,
" - ").concat(a.message))}})}catch(A){b.default.logCSAEvent(d.CSA_HIT_TYPE.CLICK_ERROR,k),n.default.emitSheetOpenCounter(d.CSM_SHEET_TYPE.NATIVE,d.CSM_STATUS.FAILURE),e.default.logFatal("Error while opening mWeb native share sheet",A)}},a.prototype.launchNativeApp=function(){var a=this,k=this.shareUrl.refMarker.click,g=this.sheetOptions.shareDataAttributes,v=this.sheetOptions.refererURL,l=this.sheetOptions.customizeShareCSAData,m=this.sheetOptions.shareDataAttributes.ingress,u=d.EMPTY_STRING,r=this.sheetOptions.caf||
!1,t=this.sheetOptions.cafSwitchEnabled||!1,h=this.sheetOptions.isCustomShareOptionsSheetEnabled||!1,z=this.shareUrl.return;this.sheetOptions.tinyUrl&&(z=this.sheetOptions.tinyUrl,b.default.logCounter("MShop.Tiny.Success"),b.default.logCounterRefactor("Tiny.Success",m));var q={channel:u,refMarker:k,refererURL:v,shareDataAttributes:g,customizeShareCSAData:l,caf:r,cafSwitchEnabled:t,isCustomShareOptionsSheetEnabled:h};k={messagePlain:this.getShareMessage,messagePlain160:this.getShare160Message,messagePlain140:this.getShare140Message,
messageHTML:this.getShareMessage,url:z,imageURL:this.sheetOptions.image,subject:this.sheetOptions.text};null==c||c.share(f(f({},k),{successCallback:function(){(0,x.isFunction)(a.sheetOptions.sheetShownCallback)&&a.sheetOptions.sheetShownCallback();n.default.emitSheetOpenCounter(d.CSM_SHEET_TYPE.NATIVE,d.CSM_STATUS.SUCCESS);b.default.logCSAEvent(d.CSA_HIT_TYPE.CLICK_SUCCESS,q)},failCallback:function(a){b.default.logCSAEvent(d.CSA_HIT_TYPE.CLICK_ERROR,q);n.default.emitSheetOpenCounter(d.CSM_SHEET_TYPE.NATIVE,
d.CSM_STATUS.FAILURE);e.default.logFatal("Error while opening mShop native share sheet",a)},shareServiceSelectedCallback:function(c){if(c&&"'null'"!==c){(0,x.isFunction)(a.sheetOptions.channelSelectCB)&&a.sheetOptions.channelSelectCB(c);q.channel=a.getChannelByKeyword(c).channel;var p=a.getChannelByKeyword(c).refId;q.refMarker=a.shareUrl.refMarker.getClickForChannel(p);b.default.logCSAEvent(d.CSA_HIT_TYPE.SHARE,q);(0,x.isFunction)(a.sheetOptions.sdTooltipCallback)&&a.sheetOptions.sdTooltipCallback();
n.default.emitChannelClickCounter(d.CSM_SHEET_TYPE.NATIVE,a.getChannelByKeyword(c).channel)}else n.default.emitSheetCloseCounter(d.CSM_SHEET_TYPE.NATIVE),b.default.logCSAEvent(d.CSA_HIT_TYPE.CLICK_CANCEL,q)}}))},a.prototype.launch=function(a){(0,l.isNativeAppShareAvailable)(c)?this.launchNativeApp():(0,l.isNativeWebShareAvailable)()?this.launchNativeWeb():(0,x.isFunction)(a)?a():(b.default.logCounter("Click.ShareUnavailable"),b.default.logCounterRefactor("Click.ShareUnavailable",this.sheetOptions.shareDataAttributes.ingress),
e.default.logFatal("Share is Unavailable"))},Object.defineProperty(a.prototype,"getShare160Message",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return,b=a.length+2;b=(0,x.truncate)(this.sheetOptions.title,160-b);return"".concat(b," ").concat(a)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"getShare140Message",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return,b=a.length+2;b=(0,x.truncate)(this.sheetOptions.title,140-b);return"".concat(b,
" ").concat(a)},enumerable:!1,configurable:!0}),a.prototype.getRefByRegex=function(a){return d.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].refId},a.prototype.getChannelByRegex=function(a){return d.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].channel},a.prototype.getChannelByKeyword=function(a){var b=d.RAW_CHANNEL_PREFIX+a,c=d.DEFAULT_CSA_REF_ID,f=a.match(/instagram|snap|discord|viber|telegram|pinterest|qzone|renren|twitter|airdrop|tencentweibo|wechatmoment|line|whatsapp|weibo|^Facebook$/ig);if(f&&f.length)return{channel:this.getChannelByRegex(f[0].toLowerCase()),
refId:this.getRefByRegex(f[0].toLowerCase())};switch(!0){case /android.messaging|sms|android.apps.messaging|mms/gi.test(a):b="SMS";c="sm";break;case /outlook|mail/gi.test(a):b="Email";c="em";break;case /clipboardactivity|copy/gi.test(a):b="Copy";c="cp";break;case /facebook.composer/gi.test(a):b="Facebook";c="fb";break;case /facebook.messenger|FacebookMessenger/gi.test(a):b="FacebookMessenger";c="fm";break;case /tencent|wechat/gi.test(a):b="WeChat";c="we";break;case /unknown|null/gi.test(a):b="unknown",
c="u"}return{channel:b,refId:c}},Object.defineProperty(a.prototype,"getShareMessage",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return;return"".concat(this.sheetOptions.title," ").concat(a)},enumerable:!1,configurable:!0}),a}();a.default=g},474:function(g,a,k){Object.defineProperty(a,"__esModule",{value:!0});var f=k(241);g=function(){function a(b,c,d){this.REF_PARAM_NAME="ref_";a.isValid(b)||(b=a.getDefault());this.url=new URL(b);this._refMarker=new f.default(c,d)}return a.prototype.getUpdatedUrl=
function(a){var b=new URL(this.raw);return b.searchParams.set(this.REF_PARAM_NAME,a),b.toString()},Object.defineProperty(a.prototype,"raw",{get:function(){return this.url.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"refMarker",{get:function(){return this._refMarker},enumerable:!1,configurable:!0}),a.isValid=function(a){try{new URL(a)}catch(u){return!1}return!0},a.getDefault=function(){var a,c,d=null===(a=null===h||void 0===h?void 0:h.location)||void 0===a?void 0:
a.href;if(!d)return(null===(c=null===h||void 0===h?void 0:h.ue)||void 0===c?0:c.sn)?"https://".concat(h.ue.sn):"https://amazon.com";a=new URL(d);c=a.searchParams.has("psc")?"?psc\x3d1":"";return h.ue_pti?"".concat(h.location.origin,"/dp/").concat(h.ue_pti).concat(c):(a.search=c,a.href)},a.prototype.getReturnForChannel=function(a){a=this._refMarker.getReturnForChannel(a);return this.getUpdatedUrl(a)},a.prototype.getClickForChannel=function(a){a=this._refMarker.getClickForChannel(a);return this.getUpdatedUrl(a)},
Object.defineProperty(a.prototype,"return",{get:function(){return this.getUpdatedUrl(this._refMarker.return)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.getUpdatedUrl(this._refMarker.click)},enumerable:!1,configurable:!0}),a}();a.default=g},161:function(g,a){Object.defineProperty(a,"__esModule",{value:!0});a.getDPXObject=a.sanitizeInput=a.getCookie=a.testUserAgent=a.truncate=a.isString=a.isEmpty=a.isNumber=a.isFunction=void 0;a.isFunction=
function(a){return"function"==typeof a};a.isNumber=function(a){return!isNaN(a)&&"number"==typeof a};a.isEmpty=function(a){return!a||!a.length};a.isString=function(a){return"string"==typeof a};a.truncate=function(a,f){void 0===a&&(a="");var c=Array(3).fill(".");return a.length>f?a.substring(0,f-3)+c.join(""):a};a.testUserAgent=function(a){if(!h&&!h.navigator)return!1;try{return a.test(h.navigator.userAgent)}catch(f){return!1}};a.getCookie=function(a){a="".concat(a,"\x3d");for(var f=document.cookie.split(";"),
c=0;c<f.length;c++){for(var b=f[c];" "==b.charAt(0);)b=b.substring(1);if(0==b.indexOf(a))return b.substring(a.length,b.length)}return""};a.sanitizeInput=function(a){return a.replace(/[<>&'"]/g,function(a){switch(a){case "\x3c":return"\x26lt;";case "\x3e":return"\x26gt;";case "\x26":return"\x26amp;";case "'":return"\x26#39;";case '"':return"\x26quot;";default:return a}})};a.getDPXObject=function(){var a,f;return null===(f=null===(a=h.DetailPage)||void 0===a?void 0:a.StateController)||void 0===f?void 0:
f.state};a.default={isFunction:a.isFunction,isNumber:a.isNumber,isEmpty:a.isEmpty,isString:a.isString,truncate:a.truncate,testUserAgent:a.testUserAgent,getCookie:a.getCookie,getDPXObject:a.getDPXObject}},156:function(g,a){Object.defineProperty(a,"__esModule",{value:!0});a.default={}},519:function(g,a,k){Object.defineProperty(a,"__esModule",{value:!0});a.SocialShareCore=void 0;g=k(305);var f=k(474),c=k(156),b=k(495),e=k(158),d=k(198),l=k(241),m=k(905),h=k(869),n=k(738);k=k(161);a.SocialShareCore={Channels:g.default,
Url:f.default,Translations:c.default,Metrics:b.default,ShareSheet:d.default,RefMarker:l.default,Detection:m.default,Constants:n,ToolBelt:k,CSMMetrics:e.default,Logging:h.default};a.default=a.SocialShareCore}},m={};l=function k(a){var f=m[a];if(void 0!==f)return f.exports;f=m[a]={exports:{}};return e[a].call(f.exports,f,f.exports,k),f.exports}(519)})();return l});"use strict";q.register("SocialShareWidgetConfig",function(){var l=Object.freeze({MODAL:"modal",POPOVER:"popover"}),e=Object.freeze({IOS:"ios",
ANDROID:"android",ARROW:"arrow",VARIABLE:"variable"});return{WIDGET_TYPE:l,WIDGET_ICON:e,excludedChannels:["sms","wa"],lineMarketplaces:["A1VC38T7YXB528"],cnMarketplace:["AAHKV2X7AFYLW"],nonCNChannels:["fb","tw","pi"],defaultShareData:{url:"",title:location.hostname,text:"",image:"",hashtags:["Amazon"],type:l.POPOVER,lang:"en",refId:"ts",channels:[],refererURL:"",treatment:"",weblab:"",customize:!1,previewDoh:!1,caf:!1,displayCustomShareSheet:!1,cafSwitch:!1,eventPreviewTreatment:"C",cafIngressId:"",
cafIngressTreatment:"C",t:{},associateLink:{},popoverPosition:"triggerBottom",popoverDistance:48,defaultCustomShareOptions:{email:{label:"Email",image:"customchannels-email.png",ref:"em",shareUrl:"mailto:?subject\x3d{subject}\x26body\x3d{body}\x26url\x3d{url}",className:"email",stringId:"taf_customshare_email"},copy:{label:"Copy",image:"customchannels-link.png",ref:"cp",shareUrl:"",className:"custom-share-copy",stringId:"taf_customshare_copy"},more:{label:"More",image:"customchannels-more.png",ref:"",
shareUrl:"",className:"custom-share-native-sheet",stringId:"taf_customshare_more"}},isFallbackShareUrlEnabled:!1,isNewIMessagePreviewGating:!1,isOnShareGatingEnabled:!1,isIpadFixesEnabled:!1,isNewWhatsAppPreview:!1,isBestFormatEnabled:!1,isCafPreviewGenerationMigrationEnabled:!1,isUnrecognizedUsersRichPreviewEnabled:!1,customizePreSelected:!1,isUnsignedShareSheetGatingEnabled:!1,isUnsignedShareSheetCopyLinkOverrideEnabled:!1,isShortTitleGatingEnabled:!1,isShortTitleAsyncGatingEnabled:!1,titleSource:"",
isMWebCustomShareSheetGatingEnabled:!1,isMWebCustomShareSheetLaunchGatingEnabled:!1,isMWebCustomShare:!1,isMWebCustomShareRichPreviewEnabledOverride:!1,isConfigMigrationEnabled:!1},defaultWidgetData:{icon:e.VARIABLE,background:!0,width:24},shareDataAttributes:{isInternal:2,isRobot:2,userAgent:h.navigator.userAgent,platform:"DESKTOP",ingress:h.ue_pty,asin:h.ue_pti,requestId:h.ue_id,customerId:"",marketplaceId:h.ue_mid,triggeredFromScreenshotToast:!1},iconMap:{ios:"https://m.media-amazon.com/images/G/01/share-icons/share-std.svg",
android:"https://m.media-amazon.com/images/G/01/share-icons/share-android.svg",arrow:"https://m.media-amazon.com/images/G/01/share-icons/share-icon-experiment.svg"},customShareOptions:[]}});"use strict";q.when("A","SocialShareWidget","SocialShareWidgetTemplating","SocialShareWidgetConfig","SocialShareWidgetState","SocialShareWidgetNativeUtils","SocialShareWidgetOnShareUtils").register("SocialShareWidgetAUI",function(l,e,x,g,a,k,f){var c=e.SocialShareCore,b=c.Metrics,u=c.CSMMetrics,d=c.Logging,t=c.Constants,
z=0,B=function(){},n=!1,v=b.getMetricName(l.$);b.startTimer(v);b.logCounter("DPX.Desktop.ImageBlockRender");try{(function(){var p=l.$,e=c.Detection,y=c.Translations,D=c.Channels,F=c.Url,C=function(a){a=a.data("share")||a.find("[data-share]").data("share");return l.extend({},g.defaultWidgetData,a)},A=p(".ssf-share-trigger"),r=g.defaultShareData,I=C(A),K=r.url,R=p("#ac-getlink-bottomsheet"),L=p('[data-action\x3d"ssf-share-icon"]'),E=void 0;q.when("SocialShareSheetConfig").execute(function(a){return E=
a});var ba=function(){var a=g.iconMap;if(I.icon===g.WIDGET_ICON.ARROW)return a.arrow;if(e.isDesktop())return a.ios;if(I.icon===g.WIDGET_ICON.VARIABLE){var b=l.$("#ssf-primary-widget-desktop");r=l.extend(r,b.data("ssfShareIcon"));b=a.android;if(e.isIOS()||r.isIpadFixesEnabled&&e.isIpadIOS())b=a.ios;return b}return a[I.icon]},Y=function(a){a.find('[class*\x3d"ssf-multi-"]').length||a.find(".ssf-share-trigger").addClass("ssf-multi-"+Math.random().toString(36).slice(2));A=a.find('[class*\x3d"ssf-multi-"]')},
H=void 0,M=void 0,N=void 0,O=void 0,S=void 0,W=void 0,P=void 0;q.when("a-sheet").execute(function(a){return H=a});q.when("a-popover").execute(function(a){return M=a});q.when("a-modal").execute(function(a){return N=a});q.when("SocialShareWidgetTiny").execute(function(a){return P=a});var G=function(a,b){var c=2<arguments.length&&arguments[2]!==m?arguments[2]:"ssf-share-bottom-sheet",d=r.displayCustomShareSheet||r.customize||r.caf;if(!O||d)O=H.create({name:c,inlineContent:a,closeType:"icon",height:b});
H.showSheet(O)},T=function(a){var b=a.type===g.WIDGET_TYPE.POPOVER&&M,c=a.type===g.WIDGET_TYPE.MODAL&&N;a=x.build(a);H?G(a.getBottom()):b?(u.emitIconClickCounter(t.CSM_SHEET_TYPE.POP_UP),b=a.getPopover(),A.hasClass("a-declarative")||(S=M.create(A,{name:"ssf-share-popover",position:r.popoverPosition,inlineContent:b,activate:"onclick",closeButton:!0,width:160,padding:"none",popoverLabel:"Share Popup",closeButtonLabel:"Close Share Popup"}).show())):c&&(u.emitIconClickCounter(t.CSM_SHEET_TYPE.MODAL),
b=a.getModal(),A.hasClass("a-declarative")||(W=N.create(A,{name:"ssf-share-modal",inlineContent:b,width:600,popoverLabel:"Share Modal"}).show()))},Q=function(a){if(a.displayCustomShareSheet||a.customize||a.caf)b.logCounter("webview.sharesheet.caf.background"),b.logCounterRefactor("webview.sharesheet.caf.background",a.shareDataAttributes.ingress),q.when("mash").execute(function(a){a.addEventListener("appPause",U)})},Z=function(a){q.when("SocialShareWidgetCustomize").execute(function(b){x.build(a).getCustomize(function(c){G(c,
650,"ssf-customize-bottom-sheet");b.init(a,T,U);Q(a)})})},U=function ha(){q.when("mash").execute(function(a){a.removeEventListener("appPause",ha)});S&&M.get(A).hide();O&&H.hideSheet(O);W&&N.get(A).hide()},ca=function(){var a=r.shareDataAttributes.asin,b=h.DetailPage;if(!b)return!1;b=b.StateController&&b.StateController.getState().current_asin;r.shareDataAttributes.asin="string"==typeof b?b:a;return a!==b},ea=function(a,c,d){var f=a.shareDataAttributes,g=a.t;b.logCSAEvent(t.CSA_HIT_TYPE.SHARE,c);b.logCounter("DPX.Desktop.CopySuccess");
b.logCounter("Share.CopySuccess");b.logCounter(v,"CopySuccess");b.logCounterRefactor("CopySuccess",f.ingress);u.emitChannelClickCounter(t.CSM_SHEET_TYPE.POP_UP,"Copy",t.CSM_STATUS.SUCCESS);e.isDesktop()?function(){var a=d.find(".copy-label");a.text(g.taf_copy_url_changeover);l.delay(function(){U();a.text(g.taf_copy_name)},1E3)}():(p(".ssf-feedback").show(),U())},V=function(a,c){b.logCSAEvent(t.CSA_HIT_TYPE.CLICK_ERROR,a);b.logCounter("DPX.Desktop.CopyFailure");b.logCounter("Share.CopyFailure");b.logCounter(v,
"CopyFailure");u.emitChannelClickCounter(t.CSM_SHEET_TYPE.POP_UP,"Copy",t.CSM_STATUS.FAILURE);d.logFatalAUI("Copy link failed on desktop",c)},aa=function(a){var c=a.shareData,d=a.channelRef,p=c.shareUrl;a=c.socialLinks;var e=a===m?{}:a;a=c.dealsPreviewEnabled;a=a===m?!1:a;var g=c.eventPreviewTreatment;g=g===m?"C":g;p.refMarker.isBestFormatEnabled=c.isBestFormatEnabled;p=d?p.getReturnForChannel(d):p.return;d=f.getChannelName(d);var k=f.getOsType();e=e.shareframework||c.url;var n=c.aapiBaseUrl;n=n===
m?"":n;var v=c.shareAapiCsrfToken;v=v===m?"":v;var l=c.tinyUrlEnabled;l=l===m?!1:l;var w=c.deeplinkInfo;w=w===m?{}:w;var r=c.storeId;r=r===m?"":r;var y=c.isOnShareGatingEnabled;y=y===m?!1:y;var h=c.shareDataAttributes;c=h.marketplaceId;c=c===m?"":c;h=h.ingress;h=h===m?"":h;if("c"!==g.toLowerCase()){p=new URL(p);var t=g.match(/^T(\d+)$/);p.searchParams.append("peakEvent",t[1]);p.searchParams.append("dealEvent",a?"1":"0");p=p.toString();b.logCounterRefactor("EventPreview"+g,h)}return{tinyUrlEnabled:l,
aapiBaseUrl:n,shareAapiCsrfToken:v,marketplaceId:c,url:p,isOnShareGatingEnabled:y,extractedRef:d,osType:k,originalUrl:e||p,refMarkerId:z++,deeplinkInfo:w,storeId:r}};p(document).delegate(".ssf-channel:not(.copy,.embed)","click",function(a){a.preventDefault();a.stopPropagation();b.logCounter("DPX.Desktop.ChannelClick");b.logCounter("ShareClick");b.logCounter(v,"ChannelClick");b.logCounterRefactor("ChannelClick",r.shareDataAttributes.ingress);var c=p(this),d=c.data("key"),f=r;a=f.refererURL;var g=f.shareDataAttributes,
n=f.treatment;n=n===m?"":n;var w=f.weblab;w=w===m?"":w;var y=f.builtChannels[d],z=y.ref;d=f.shareUrl.refMarker.getClickForChannel(z);f=y.name;var C=y.getSharingUrl();b.logCSAEvent(t.CSA_HIT_TYPE.SHARE,{channel:f,refMarker:d,refererURL:a,shareDataAttributes:g,treatment:n,weblab:w});a=aa({shareData:r,channelRef:z});k.showSpinner(c);P.fetch({data:a,callback:function(a){k.hideSpinner(c);a&&(C=y.getSharingUrl(a),b.logCounter("Desktop.Tiny.Success"),b.logCounterRefactor("Tiny.Success",g.ingress));if("em"===
z)h.open(C,"_self");else if(e.isDesktop()){a=screen.width;var d=screen.height,f="pi"===z?900:600,p=Math.min(f,.7*a);f=Math.min(f,.7*d);h.open(C,"_blank","toolbar\x3d0,status\x3d0,width\x3d"+p+",height\x3d"+f+",top\x3d"+(d/2-f/2)+",left\x3d"+(a/2-p/2))}else h.open(C,"_blank");u.emitChannelClickCounter(t.CSM_SHEET_TYPE.POP_UP,y.label);U();l.trigger("ssf:event:share",r)}})});l.declarative("ssf-share-icon","click",function(c){b.logCounter("DPX.Desktop.SheetClick");b.logCounter("SheetClick");b.logCounter(v,
"SheetClick");if(n)return U();Y(c.$currentTarget);r=l.extend(r,c.data);r.shareDataAttributes=l.extend(g.shareDataAttributes,c.data.shareDataAttributes);var d=r.shareDataAttributes.ingress;b.logCounterRefactor("SheetClick",d);r.isConfigMigrationEnabled&&E&&(r.aapiBaseUrl=E.getAapiBaseUrl(r.shareDataAttributes.marketplaceId,r.url));if(!l.objectIsEmpty(c.data.associateLink)&&R.length)b.logCounter("SheetClick.Associate"),l.trigger("ac-getlink-bottomsheet-event",r);else{l.extend(y[r.lang],r.t);var f=D(r,
r.channels);r.builtChannels=f;r.url=r.url.startsWith("/")?""+h.location.origin+r.url:r.url;r.shareUrl=new F(r.url,r.refId);ca()&&(r.shareUrl=new F(r.url,r.refId),r.shareUrl.url.searchParams.set("psc",1));a.set("shareData",r);!e.isDesktop()||r.isIpadFixesEnabled&&e.isIpadIOS()&&e.isNativeWebShareAvailable()?r.displayCustomShareSheet||r.customize||r.caf?Z(r):k.launchNativeShareSheet(c,r,aa,T):(r.image=r.image||p("#imgTagWrapperId img").attr("src"),T(r),b.logCounter("DPX.Desktop.SheetOpen"),b.logCounter("SheetOpen"),
b.logCounter(v,"SheetOpen"),b.logCounterRefactor("SheetOpen",d),b.logCSAEvent(t.CSA_HIT_TYPE.CLICK_SUCCESS,{channel:t.EMPTY_STRING,refMarker:r.shareUrl.refMarker.click,refererURL:r.refererURL,shareDataAttributes:r.shareDataAttributes,treatment:r.treatment||"",weblab:r.weblab||""}));e.isSafari()&&e.isDesktop()&&(c=aa({shareData:r,channelRef:t.CP_CHANNEL_REF}),P.fetch({data:c,callback:function(a){b.logCounter("TinyUrlOnSheetOpen");K=a}}));l.trigger("ssf:event:sheetOpen",r)}});p(document).delegate(".ssf-copy,.ssf-channel.copy",
"click",function(a){b.logCounter("ShareClick");b.logCounter("DPX.Desktop.ChannelClick");b.logCounter(v,"ChannelClick");b.logCounterRefactor("ChannelClick",r.shareDataAttributes.ingress);a.preventDefault();var c=r;a=c.shareUrl;var d=c.shareDataAttributes,f=c.treatment;f=f===m?"":f;var g=c.weblab;g=g===m?"":g;c=c.isBestFormatEnabled;var n=t.CP_CHANNEL_REF,w=a.refMarker.getClickForChannel(n),y={channel:t.CP_CHANNEL_REF,refMarker:w,shareDataAttributes:d,treatment:f,weblab:g},h=p(this);a.refMarker.isBestFormatEnabled=
c;var z=a.getReturnForChannel(n);e.isSafari()&&e.isDesktop()?navigator.clipboard.writeText(K||z).then(function(){ea(r,y,h)}).catch(function(a){V(y,a)}):(a=aa({shareData:r,channelRef:n}),k.showSpinner(h),P.fetch({data:a,callback:function(a){k.hideSpinner(h);navigator.clipboard.writeText(a||z).then(function(){ea(r,y,h)}).catch(function(a){V(y,a)})}}));l.trigger("ssf:event:share",r)});p(document).delegate(".ssf-embed,.ssf-channel.embed","click",function(a){a.preventDefault();var c=r;a=c.shareDataAttributes;
var d=c.treatment;d=d===m?"":d;var f=c.weblab;f=f===m?"":f;c={channel:"embed",refMarker:c.shareUrl.refMarker.getClickForChannel(t.EMBED_CHANNEL_REF),shareDataAttributes:a,treatment:d,weblab:f};b.logCSAEvent(t.CSA_HIT_TYPE.SHARE,c);b.logCounter("DPX.Desktop.ChannelClick");b.logCounter(v,"ChannelClick");b.logCounter("ChannelClick.Embed");b.logCounter("ShareClick");b.logCounterRefactor("ChannelClick",a.ingress);N.create(p(".ssf-channel.embed"),r.kpModalParams).show();u.emitChannelClickCounter(t.CSM_SHEET_TYPE.MODAL,
"Embed")});B=function(){A=p(".ssf-share-trigger");I=C(A);var a=I.width;if(!p(".ssf-background").length&&I.background){var b=1.4*a;b=p('\x3cdiv class\x3d"ssf-background'+(I.floatedIcon?"-float":"")+'"\x3e\x3c/div\x3e').css({width:b,height:b});A.wrap(b)}I.icon&&A.css({height:a,width:a,backgroundImage:"url("+ba()+")"})};e.isIE()&&p(".ssf-share-trigger,.ssf-background").remove();l.on("a:popover:afterUpdatePosition:ssf-share-popover",function(a){a=a.popover.$popover;var b=a.position().left-r.popoverDistance;
a.find(".a-arrow-border").css({right:24,left:""});a.css({left:b})});l.on("ssf:event:trigger-share-widget",function(a){l.trigger("a:declarative:ssf-share-icon:click",{data:a,$currentTarget:(1<arguments.length&&arguments[1]!==m?arguments[1]:m)||L})});l.on("a:popover:show:ssf-share-popover",function(){n=!0;document.getElementsByClassName("ssf-share-trigger")[0].setAttribute("aria-expanded","true");u.emitSheetOpenCounter(t.CSM_SHEET_TYPE.POP_UP,t.CSM_STATUS.SUCCESS)});l.on("a:popover:hide:ssf-share-popover",
function(){n=!1;document.getElementsByClassName("ssf-share-trigger")[0].setAttribute("aria-expanded","false");u.emitSheetCloseCounter(t.CSM_SHEET_TYPE.POP_UP)});l.on("a:popover:show:ssf-share-modal",function(){n=!0;document.getElementsByClassName("ssf-share-trigger")[0].setAttribute("aria-expanded","true");u.emitSheetOpenCounter(t.CSM_SHEET_TYPE.MODAL,t.CSM_STATUS.SUCCESS)});l.on("a:popover:afterShow:ssf-share-popover",function(){u.emitImpressionCounter(t.CSM_SHEET_TYPE.POP_UP)});l.on("a:popover:afterShow:ssf-share-modal",
function(){u.emitImpressionCounter(t.CSM_SHEET_TYPE.MODAL)});l.on("a:popover:hide:ssf-share-modal",function(){n=!1;document.getElementsByClassName("ssf-share-trigger")[0].setAttribute("aria-expanded","false");u.emitSheetCloseCounter(t.CSM_SHEET_TYPE.MODAL)});l.on("a:sheet:beforeShow:ssf-customize-bottom-sheet",function(a){a.sheet.$container.css("height","")});u.emitIconRenderCounter(t.CSM_STATUS.SUCCESS);B()})()}catch(p){b.logCounter("DPX.Desktop.Error"),b.logCounter(v,"Error"),b.logLoad("Error"),
u.emitIconRenderCounter(t.CSM_STATUS.FAILURE),d.logFatalAUI("Error loading Share Framework AUI",p)}finally{b.logCounter("DPX.Desktop.Render"),b.logCounter(v,"Render"),b.logLoad("Render"),l.trigger("ssf:event:load"),b.stopTimer(v)}return{init:B}});"use strict";var da=function(){return function(l,e){if(Array.isArray(l))return l;if(Symbol.iterator in Object(l)){var h=[],g=!0,a=!1,k=m;try{for(var f=l[Symbol.iterator](),c;!(g=(c=f.next()).done)&&(h.push(c.value),!e||h.length!==e);g=!0);}catch(b){a=!0,
k=b}finally{try{if(!g&&f["return"])f["return"]()}finally{if(a)throw k;}}return h}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();q.when("A","SocialShareWidgetConfig","SocialShareWidget").register("SocialShareWidgetTemplating",function(l,e,h){h=h.SocialShareCore;var g=l.$,a=h.Detection.isClipboardAvailable,k=h.Detection.isDesktop,f=e.excludedChannels;a()||f.push("copy");var c=function(a){return'\x3cspan class\x3d"a-spinner a-spinner-'+a+' a-align-center aok-hidden"\x3e\x3c/span\x3e'};
return{build:function(b){var l=b.shareUrl,d=b.socialLinks,h=d===m?{}:d;d=b.shareDataAttributes;var z=b.builtChannels,x=b.kpModalParams,n=b.t;h.email=b.mailToUri;var v='\x3cspan class\x3d"a-button ssf-copy"\x3e\n        \x3cspan class\x3d"a-button-inner"\x3e\n          \x3cinput class\x3d"a-button-input" type\x3d"button" aria-label\x3d"'+n.taf_copy_tooltip+'"\x3e\n          \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3e\n            \x3cbutton class\x3d"a-button-text"\x3e\n              \x3cdiv class\x3d"copy-label"\x3e\n                '+
n.taf_copy_tooltip+"\n              \x3c/div\x3e\n            \x3c/button\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e\n      \x3c/span\x3e";!k()&&a()&&1>g(".ssf-feedback").length&&g(document.body).append('\x3cdiv class\x3d"a-changeover ssf-feedback" style\x3d"display:none"\x3e\n          \x3cdiv class\x3d"a-changeover-inner"\x3e\n            \x3ci class\x3d"a-icon a-icon-checkmark-inverse"\x3e\x3c/i\x3e\n            \x3cstrong class\x3d"a-size-medium"\x3e'+n.taf_copy_url_changeover+"\x3c/strong\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e");
var p=function(a){return{title:n["taf_"+a.name+"_tooltip"]||a.label,label:n["taf_"+a.name+"_name"]||a.label}};e.lineMarketplaces.includes(d.marketplaceId)||h.li?f.push("pi"):f.push("li");x||f.push("embed");e.cnMarketplace.includes(d.marketplaceId)&&f.push.apply(f,J(e.nonCNChannels));return{getModal:function(){var b="",d=!0,g=!1,e=m;try{for(var k=Object.entries(z)[Symbol.iterator](),t;!(d=(t=k.next()).done);d=!0){var r=da(t.value,2),u=r[0],x=r[1];if(!f.includes(u)&&"copy"!==u){var q=p(x),B=h[x.name]||
x.getSharingUrl();b+='\x3cli class\x3d"ssf-channel-h"\x3e\n              \x3ca class\x3d"ssf-channel a-color-base" aria-label\x3d"'+q.label+'" href\x3d"'+B+'" title\x3d"'+q.title+'" data-key\x3d"'+u+'"\x3e\n                '+c("medium")+'\n                \x3ci aria-hidden\x3d"true" style\x3d"background-image: url('+x.image+')"\x3e\x3c/i\x3e\n              \x3c/a\x3e\n              \x3cspan\x3e'+q.label+"\x3c/span\x3e\n            \x3c/li\x3e"}}}catch(E){g=!0,e=E}finally{try{!d&&k.return&&k.return()}finally{if(g)throw e;
}}d=a()?'\x3cdiv class\x3d"ssf-copy-section a-box a-padding-base a-spacing-top-large"\x3e\n              \x3cdiv class\x3d"link-section"\x3e'+l.return+'\x3c/div\x3e\n              \x3cdiv class\x3d"copy-button"\x3e'+v+"\x3c/div\x3e\n          \x3c/div\x3e":"";return'\x3ch3 class\x3d"a-spacing-large"\x3e'+n.taf_share_bottom_sheet_title+"\x3c/h3\x3e"+('\x3cdiv class\x3d"ssf-h-icons"\x3e\x3cul class\x3d"ssf-h-icons a-nostyle"\x3e'+b+"\x3c/ul\x3e\x3c/div\x3e")+d},getPopover:function(){var a="",b=!0,d=
!1,g=m;try{for(var e=Object.entries(z)[Symbol.iterator](),n;!(b=(n=e.next()).done);b=!0){var k=da(n.value,2),v=k[0],l=k[1];if(!f.includes(v)){var u=p(l),t=h[l.name]||l.getSharingUrl();a+='\x3cli class\x3d"ssf-channel-v"\x3e\n              \x3ca class\x3d"ssf-channel '+v+' a-color-base" aria-label\x3d"'+u.label+'" href\x3d"'+t+'" title\x3d"'+u.title+'" data-key\x3d"'+v+'"\x3e\n                '+c("small")+'\n                \x3ci aria-hidden\x3d"true" style\x3d"background-image: url('+l.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"'+
v+'-label"\x3e'+u.label+"\x3c/span\x3e\n              \x3c/a\x3e\n            \x3c/li\x3e"}}}catch(E){d=!0,g=E}finally{try{!b&&e.return&&e.return()}finally{if(d)throw g;}}return'\x3cul class\x3d"a-nostyle"\x3e'+a+"\x3c/ul\x3e"},getBottom:function(){var a="",b=!0,d=!1,g=m;try{for(var e=Object.entries(z)[Symbol.iterator](),k;!(b=(k=e.next()).done);b=!0){var v=da(k.value,2),l=v[0],u=v[1];if(!f.includes(l)){var t=p(u),x=h[u.name]||u.getSharingUrl();a+='\x3cli class\x3d"ssf-channel-b a-padding-base"\x3e\n              \x3ca class\x3d"ssf-channel '+
l+' a-color-base" aria-label\x3d"'+t.label+'" href\x3d"'+x+'" title\x3d"'+t.title+'" data-key\x3d"'+l+'"\x3e\n                '+c("medium")+'\n                \x3ci aria-hidden\x3d"true" style\x3d"background-image: url('+u.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"a-size-base-plus"\x3e'+t.label+"\x3c/span\x3e\n              \x3c/a\x3e\n              \x3c/li\x3e"}}}catch(E){d=!0,g=E}finally{try{!b&&e.return&&e.return()}finally{if(d)throw g;}}return'\x3cdiv class\x3d"a-padding-base ssf-header"\x3e\n          \x3ch4\x3e'+
n.taf_share_bottom_sheet_title+'\x3c/h4\x3e\n        \x3c/div\x3e\x3cdiv class\x3d"ssf-scroll"\x3e\x3cul class\x3d"a-nostyle"\x3e'+(a+"\x3c/ul\x3e")+"\x3c/ul\x3e\x3c/div\x3e"},getCustomize:function(){var a=void 0;q.now("SocialShareWidgetCustomizeTemplate").execute(function(c){a=b.customize?c.getCustomizeBox(n):""});var d='\x3ch3 class\x3d"a-spacing-base a-spacing-top-base"\x3e'+n.taf_share_bottom_sheet_title+"\x3c/h3\x3e",f='\x3cdiv class\x3d"ssf-heading-container"\x3e\x3cimg class\x3d"ssf-back-btn" src\x3d"https://m.media-amazon.com/images/G/01/share-icons/arrow-left.svg"\x3e'+
d+"\x3c/div\x3e",p='\x3cdiv class\x3d"a-padding-base a-box ssf-preview-container ssf-no-border" style\x3d"background-image: url('+b.image+')"\x3e'+c("medium")+"\x3c/div\x3e",g=b.caf?'\x3cdiv class\x3d"a-row a-spacing-top-large'+(b.customize?"":" a-spacing-large")+'"\x3e\n          \x3cdiv class\x3d"a-column a-span9"\x3e\n            \x3cstrong class\x3d"ssf-caf-toggle-label"\x3e'+n.taf_custshare_caf_ingress+'\x3c/strong\x3e\n          \x3c/div\x3e\n          \x3cdiv class\x3d"a-column a-span3 a-text-right a-span-last"\x3e\n            \x3cdiv class\x3d"a-switch-row ssf-caf-toggle"\x3e\n          \x3cinput class\x3d"a-declarative a-switch-input" data-action\x3d"a-switch-input" name\x3d"caf" type\x3d"checkbox"\x3e\n          \x3clabel class\x3d"a-switch-label a-declarative" data-action\x3d"a-switch-label"\x3e\n            \x3cdiv class\x3d"a-switch a-declarative" data-action\x3d"a-switch"\x3e\n              \x3ca class\x3d"a-switch-control" aria-label\x3d"caf" style\x3d"transform: translateX(-1px) translateZ(0px);"\x3e\x3c/a\x3e\n            \x3c/div\x3e\n          \x3c/label\x3e\n        \x3c/div\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e':
"",e='\x3cspan class\x3d"a-button a-button-primary a-spacing-top-small ssf-customize-share-btn"\x3e\n          \x3cspan class\x3d"a-button-inner"\x3e\n            \x3cinput class\x3d"a-button-input" type\x3d"button" aria-labelledby\x3d"ssf-customize-share-btn"\x3e\n            \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"ssf-customize-share-btn"\x3e\n              '+b.shareLabel+"\n              "+c("small")+"\n            \x3c/span\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e";
return'\x3cdiv class\x3d"a-padding-base ssf-customize-container-one"\x3e'+d+p+g+a+e+"\x3c/div\x3e"+(b.customize?'\x3cdiv class\x3d"a-padding-base ssf-customize-container-two aok-hidden"\x3e'+f+p+g+'\x3cdiv class\x3d"a-row a-spacing-top-base a-padding-base ssf-tabs"\x3e\x3c/div\x3e'+e+"\x3c/div\x3e":"")}}}}});"use strict";q.when("jQuery","SocialShareWidget","SocialShareWidgetState","SocialShareWidgetLinkUtil","SocialShareWidgetAPI").register("SocialShareWidgetTiny",function(l,e,x,g,a){e=e.SocialShareCore;
var k=e.Metrics,f=e.Constants;return{fetch:function(c){var b=c.data,e=c.isAsync,d=e===m?!0:e,t=c.callback;try{if(0<b.refMarkerId){var z=new URL(b.url),B=z.searchParams.get("ref_");B&&(B=B+"_"+b.refMarkerId,z.searchParams.set("ref_",B),b.url=z.toString())}var n=x.get("shareData");if(x.get("dpx")){var v=x.get("shareAapiCsrfToken"),p=x.get("aapiBaseUrl");if(n.isBestFormatEnabled){var w=new URL(b.url);w.searchParams.append("bestFormat","true");b.url=w.toString()}if(n.isShortTitleGatingEnabled&&""!==n.titleSource){var y=
new URL(b.url);y.searchParams.append("titleSource",n.titleSource);b.url=y.toString()}b.url=g.reorderQueryParams(b.url);"dprv"===n.refId&&(b.shareAapiCsrfToken=v,b.aapiBaseUrl=p,b.tinyUrlEnabled=!0,k.logCounter("reviews.tiny"))}var D=h.location.protocol+"//",F=b.deeplinkInfo;if(F&&F.isDisabled&&F.flag!=m){var C=new URL(b.url);C.searchParams.append("nodl",F.flag);b.url=C.toString()}if(b.isOnShareGatingEnabled)a.build(n).onShare(d,b.url,b.extractedRef,b.osType,t);else if(b.tinyUrlEnabled)if(b.aapiBaseUrl&&
b.shareAapiCsrfToken&&b.marketplaceId)(function(){var a=""+D+b.aapiBaseUrl+"/api/marketplaces/"+b.marketplaceId+"/social-share/tinyurl",c={longUrl:b.url},p={"Accept-Language":"en-US",Accept:'application/vnd.com.amazon.api+json; type\x3d"social-share.tinyurl/v1"',"x-api-csrf-token":b.shareAapiCsrfToken,"Content-Type":"application/x-www-form-urlencoded","x-amzn-encrypted-slate-token":x.get("slateToken")};k.startTimer("Tiny");l.ajax(a,{type:"POST",headers:p,xhrFields:{withCredentials:!0},contentType:"application/x-www-form-urlencoded",
async:d,data:c,success:function(a){k.logCounter("Tiny.Response");k.logCounter("Desktop.Tiny.Response");k.logCounterRefactor("Tiny.Response");a.entity&&a.entity.shortUrl?(t(a.entity.shortUrl.url),k.logCounter("Tiny.Success")):(q.log("Error Generating TinyURL. with share url "+b.url,"ERROR",f.SSF_AUI_PACKAGE_ATTRIBUTION),k.logCounter("Tiny.Error"),t(b.url))},error:function(c){c&&c.status!=m&&0===c.status?k.logCounter("Tiny.Blocked"):(q.log("Error Generating TinyURL with share url "+b.url+", Error Code: "+
c.status+", Error Response: "+c.responseText+", Endpoint: "+a,"ERROR",f.SSF_AUI_PACKAGE_ATTRIBUTION),k.logCounter("Tiny.Error"),k.logCounter("Desktop.Tiny.Error"),k.logCounterRefactor("Tiny.Error"));t(b.url)},complete:function(){k.stopTimer("Tiny")}})})();else return k.logCounter("Tiny.Unavailable"),t(b.url);else return t(b.url)}catch(A){return q.log("Error generating tinyURL: "+A.toString(),"ERROR",f.SSF_AUI_PACKAGE_ATTRIBUTION),b.url}}}});"use strict";q.when("A").register("SocialShareWidgetState",
function(l){var e="social-"+h.ue_id+"-share",m={slateToken:l.$('meta[name\x3d"encrypted-slate-token"]').attr("content")||"",dpx:!1};l.state(e,m);return{getCurrent:function(){return l.state(e)},get:function(e){return this.getCurrent()[e]},getAndReset:function(e){var a=this.get(e);a&&this.set(e,null);return a},set:function(g,a){var k=this.getCurrent();l.trigger("ssf:event:state:set",k);if(!g)return k;k[g]=a;k=l.state(e,k);l.trigger("ssf:event:state:changed",k);return k}}});"use strict";q.when("jQuery",
"SocialShareWidget","SocialShareWidgetState").register("SocialShareWidgetAPI",function(l,e,x){e=e.SocialShareCore;var g=e.Constants,a=e.Metrics,k=h.location.protocol+"//",f=a.getMetricName(l,g.customize),c=Object.freeze({GET:"GET",POST:"POST",PUT:"PUT"}),b=Object.freeze({generateImage:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.generate.customized.image.response/v1"',externalizeImage:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.externalize.customized.image.response/v1"',
fetchTabs:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.shareable.attributes.response/v1"',getWeblabTreatmentAndTrigger:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.weblab.treatment-and-trigger.response/v1"',onShare:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.social-share.on-share.response/v1"',fetchCAFID:'application/vnd.com.amazon.api+json; type\x3d"aapi.consultafriendcontracts.custom.consult-a-friend.feedback-request.response/v1"',
fetchHmpPollId:'application/vnd.com.amazon.api+json; type\x3d"aapi.consultafriendcontracts.custom.helpmepick.create-poll.response/v1"',getShortTitle:'application/vnd.com.amazon.api+json; type\x3d"aapi.socialshareapicontracts.social-share.get-short-title.response/v1"'}),u=function(a){return(a=a.entity)&&"SUCCEEDED"===a.status?a.tabs.map(function(a){var b={id:a.id,heading:a.shortDisplayName,text:a.longDisplayName,isQuote:!0};a.params&&(b.values=Object.values(a.params)[0],b.isQuote=!1);return b}):[]};
return{build:function(d){var e=d.shareAapiCsrfToken,h=d.locale,B=d.cafAapiCsrfToken,n=d.productType,v=d.shareDataAttributes,p=v.marketplaceId,w=v.asin,y=v.ingress,D=k+d.aapiBaseUrl,F=x.get("slateToken");F||a.logCounter("slate.missing");var C=function(a){return D+"/custom/socialshareapicontracts/marketplaces/"+p+"/products/"+w+"/shareframework/"+a},A=function(a){var b=a.async;l.ajax({url:a.url,type:a.type,async:b===m?!0:b,data:a.data,headers:{"Accept-Language":h,Accept:a.accept,"x-api-csrf-token":a.cafToken||
e,"Content-Type":"application/x-www-form-urlencoded","x-amzn-encrypted-slate-token":F},xhrFields:{withCredentials:!0},success:a.success,error:a.error,complete:a.complete})};return{generateImage:function(d,e){var p=C("generatecustomizedimage");a.startTimer("GenerateCustomizeImage");A({url:p,type:c.POST,data:d,accept:b.generateImage,success:function(b){"SUCCEEDED"===b.entity.status?(a.logCounter("GenerateCustomizeImage.Success"),a.logCounter(f,"generateCustomizeImageSuccess"),a.logCounterRefactor("generateCustomizeImageSuccess",
y)):(a.logCounter("GenerateCustomizeImage.Fail"),a.logCounter(f,"generateCustomizeImageFail"),a.logCounterRefactor("generateCustomizeImageFail",y));e(b)},error:function(b){a.logCounter("GenerateCustomizeImage.Error");a.logCounter(f,"generateCustomizeImageError");a.logCounterRefactor("generateCustomizeImageError",y);a.logCounter("generateCustomizeImageError");q.log("Error generating customize image. with request URL "+p+", Error Code: "+b.status+". Error Response: "+b.responseText,"ERROR",g.SSF_AUI_PACKAGE_ATTRIBUTION);
e(b)},complete:function(){a.stopTimer("GenerateCustomizeImage")}})},externalizeImage:function(d,e,p){var k=C("externalizecustomizedimage?customizedImageUrl\x3d"+d);a.startTimer("ExternalizeImage");A({url:k,type:c.PUT,accept:b.externalizeImage,async:p,success:function(a){e(a)},error:function(b){a.logCounter(f,"externalizeImageFail");a.logCounterRefactor("externalizeImageFail",y);a.logCounter("externalizeImageFail");q.log("Error externalizing image. with request URL "+k+", Error Code: "+b.status+". Error Response: "+
b.responseText,"ERROR",g.SSF_AUI_PACKAGE_ATTRIBUTION);e({})},complete:function(){a.stopTimer("ExternalizeImage")}})},fetchTabs:function(d){var e=C("productshareableattributes?locale\x3d"+h+"\x26type\x3d"+n);a.startTimer("FetchTabs");A({url:e,type:c.GET,accept:b.fetchTabs,success:function(b){a.logCounter(f,"FetchTabsSuccess");a.logCounterRefactor("FetchTabsSuccess",y);d(u(b))},error:function(b){a.logCounter(f,"FetchTabsFail");a.logCounterRefactor("FetchTabsFail",y);a.logCounter("FetchTabsFail");q.log("Error Fetching customize share tabs. with request URL "+
e+", Error Code: "+b.status+". Error Response: "+b.responseText,"ERROR",g.SSF_AUI_PACKAGE_ATTRIBUTION);d([])},complete:function(){a.stopTimer("FetchTabs")}})},fetchCAFID:function(e){var k=1<arguments.length&&arguments[1]!==m?arguments[1]:!0,n=D+"/custom/consultafriendcontracts/marketplaces/"+p+"/consultafriend/feedback-request/"+w;a.logCounter(f,"CAF.createCAFID.called");a.logCounterRefactor("CAF.createCAFID.called",y);a.startTimer("CafIdGeneration");A({url:n,type:c.POST,accept:b.fetchCAFID,async:k,
cafToken:B,success:function(a){e(a.entity&&a.entity.cafId,w,d.url)},error:function(b){b&&b.status!==m&&0===b.status?a.logCounter(f,"CAF.createCAFID.Blocked"):(a.logCounter(f,"CAF.createCAFID.failed"),a.logCounterRefactor("CAF.createCAFID.failed",y),q.log("Error Creating CAF Id. with request URL "+n+", Error Code: "+b.status+". Error Response: "+b.responseText,"ERROR",g.SSF_AUI_PACKAGE_ATTRIBUTION),e())},complete:function(){a.stopTimer("CafIdGeneration")}})},fetchHmpPollId:function(f){var e=1<arguments.length&&
arguments[1]!==m?arguments[1]:!0,k=d.hmpAapiCsrfToken,n=l.param(d.hmpState,!0),v=D+"/custom/consultafriendcontracts/marketplaces/"+p+"/helpmepick/poll?"+n;a.logCounter("HMP.fetchHmpPollId.called."+y);a.startTimer("HmpIdGeneration");A({url:v,type:c.POST,accept:b.fetchHmpPollId,async:e,cafToken:k,success:function(a){f(a.entity&&a.entity.cafId)},error:function(b){a.logCounter("HMP.fetchHmpPollId.failed."+y);q.log("Error Fetching Poll Id. with request URL "+v+", Error Code: "+b.status+". Error Response: "+
b.responseText,"ERROR",g.SSF_AUI_PACKAGE_ATTRIBUTION);f()},complete:function(){a.stopTimer("HmpIdGeneration")}})},getWeblabTreatmentAndTrigger:function(d,f,e){var k=D+"/custom/socialshareapicontracts/marketplaces/"+p+"/weblab/get-weblab-treatment-and-record?name\x3d"+f;a.startTimer("GetWeblabTreatmentAndTriggerMetric");A({url:k,type:c.GET,accept:b.getWeblabTreatmentAndTrigger,async:d,success:function(b){a.logCounter("GetWeblabTreatmentAndRecordSuccess");e(b)},error:function(b){a.logCounter("GetWeblabTreatmentAndRecordFail");
q.log("Error calling weblab treatment and trigger. with request URL "+k+", Error Code: "+b.status+". Error Response: "+b.responseText,"ERROR",g.SSF_AUI_PACKAGE_ATTRIBUTION);e([])},complete:function(){a.stopTimer("GetWeblabTreatmentAndTriggerMetric")}})},onShare:function(d,f,e,k,n){var v=D+"/custom/socialshareapicontracts/marketplaces/"+p+"/products/"+w+"/shareframework/onshare";a.startTimer("onShare");A({url:v,type:c.POST,accept:b.onShare,async:d,data:{longUrl:f,channel:e,osType:k},success:function(b){"SUCCEEDED"===
b.entity.status?(n(b.entity.shortUrl.url),a.logCounter("OnShare.Success")):(q.log("The request was sent successfully, but the response status indicates a failure with request URL "+f,"ERROR",g.SSF_AUI_PACKAGE_ATTRIBUTION),a.logCounter("OnShare.Failure"),n(f))},error:function(b){b&&b.status!==m&&0===b.status?a.logCounter("OnShare.Blocked"):(a.logCounter("OnShare.Error"),q.log("Error calling on share. with request URL "+f,"ERROR",g.SSF_AUI_PACKAGE_ATTRIBUTION),n([]))},complete:function(){a.stopTimer("onShare")}})},
getShortTitle:function(d,f){var e=D+"/custom/socialshareapicontracts/marketplaces/"+p+"/products/"+w+"/shareframework/getshorttitle",k=d?"Async":"Sync";a.startTimer("GetShortTitle-"+k);A({url:e,type:c.GET,accept:b.getShortTitle,async:d,success:function(b){"SUCCEEDED"===b.entity.status?(a.logCounter("GetShortTitle.Success"),f(b.entity)):(q.log("The request was sent successfully, but the response status indicates a failure","ERROR",g.SSF_AUI_PACKAGE_ATTRIBUTION),a.logCounter("GetShortTitle.Failure"),
f([]))},error:function(b){a.logCounter("GetShortTitle.Error");q.log("Error calling get short title. with request URL "+e+", Error Code: "+b.status+". Error Response: "+b.responseText,"ERROR",g.SSF_AUI_PACKAGE_ATTRIBUTION);f([])},complete:function(){a.stopTimer("GetShortTitle-"+k)}})}}}}});"use strict";q.when("A","SocialShareWidget").register("SocialShareWidgetCustomShareOptionsTemplate",function(l,e){var h=l.capabilities.rtl;e=e.SocialShareCore.Detection;var g=e.isClipboardAvailable,a=e.isAndroid(),
k=void 0,f=l.constants.HIDE_CLASS;q.when("mash").execute(function(a){return k=a});var c=function(){k||q.now("mash").execute(function(a){return k=a});return k},b=function(a,b,d){if(0===a.length||!b&&!c())return d([]);var f=a.length,e=[];b?(a.forEach(function(a){e[a.label.toLowerCase()]=a}),d(e)):a.forEach(function(a){u(a,function(a,b){f--;b&&(e[a.label.toLowerCase()]=a);(3<=e.length||0>=f)&&d(e)})})},u=function(b,d){var f="whatsapp"===b.label.toLowerCase()&&a;c().canLaunchIntentURL({url:b.schemeURI,
successCallback:function(a){if(f)return d(b,!0);d(b,a)},failCallback:function(){if(f)return d(b,!0);d(b,!1)}})},d=function(a){var b=1<arguments.length&&arguments[1]!==m?arguments[1]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+a;return'\x3cimg class\x3d"'+b+'" src\x3d"'+a+'" /\x3e'},t=function(){return'\x3cspan class\x3d"a-size-mini ssf-rating-count"\x3e'+(0<arguments.length&&arguments[0]!==m?arguments[0]:"")+"\x3c/span\x3e"};return{getChannelsHtml:function(d,
e){var k="";b(d.customShareOptions,d.isMWebCustomShare,function(b){b=l.extend(b,d.defaultCustomShareOptions);d.customShareBuiltChannels=b;var p=Object.keys(b);if(0===p.length)throw Error("Fallback to Native Sheet: channel key list is empty.");if(d.isMWebCustomShare&&(a&&navigator&&g()||!a)){var n=p.indexOf("copy");-1!==n&&(p.splice(n,1),p.splice(2,0,"copy"))}for(n=0;n<p.length;n++){var v=p[n],h=a&&"copy"===v&&!(navigator&&g()),u="more"===v&&!(c()||d.isMWebCustomShare);if(!h&&!u){h=k;u=d;var t=b[v];
v=t.stringId;var x=t.className,r=t.label;t="https://m.media-amazon.com/images/G/01/share-icons/"+t.image;u='\x3cli class\x3d"ssf-custom-share-option '+(x===m?"":x)+'"  data-name\x3d"'+r.toLowerCase()+'"\x3e\n                    \x3cdiv class\x3d"ssf-custom-share-spinner" role\x3d"button" tabindex\x3d"0"\x3e\n                        '+('\x3cspan class\x3d"a-spinner a-spinner-medium a-align-center '+f+'"\x3e\x3c/span\x3e')+'\n                        \x3cimg src\x3d"'+t+'" title\x3d"'+r+'" aria-label\x3d"'+
r+'"/\x3e\n                    \x3c/div\x3e\n                    \x3cspan class\x3d"label a-size-small"\x3e'+(u.t[v]||r)+"\x3c/span\x3e\n                 \x3c/li\x3e";k=h+u}}e('\n                    \x3cdiv class\x3d"ssf-custom-channels-container a-color-base-background"\x3e\n                        \x3cul class\x3d"ssf-custom-share-options-container a-unordered-list a-nostyle"\x3e\n                            '+k+"\n                        \x3c/ul\x3e\n                    \x3c/div\x3e\n                ")})},
getPreviewImage:function(a){var b=a.starRating,c=a.numberOfReviews,f=h?"r":"";a='\x3cdiv class\x3d"ssf-cso-p-image ssf-regular"\x3e'+d(a.productImage,"ssf-regular")+"\x3c/div\x3e";b=b?d("RIO"+b+f+".png","ssf-caf-stars"):"";c=t(c);return'\x3cdiv class\x3d"ssf-cso-p-image"\x3e'+a+('\x3cdiv class\x3d"ssf-cso-stickers ssf-regular"\x3e'+b+c+"\x3c/div\x3e")+"\x3c/div\x3e"},getErrorAlert:function(a){return'\x3cdiv class\x3d"ssf-error-text a-row '+f+'"\x3e\n          \x3cdiv class\x3d"a-box a-alert-inline a-alert-inline-error" role\x3d"alert"\x3e\n              \x3cdiv class\x3d"a-box-inner a-alert-container"\x3e\n                  \x3ci class\x3d"a-icon a-icon-alert"\x3e\x3c/i\x3e\n                  \x3cdiv class\x3d"a-alert-content"\x3e\n                    \x3cspan class\x3d"ssf-error-generic '+
f+'"\x3e'+a.taf_custshare_channel_error_generic+'\x3c/span\x3e\n                    \x3cspan class\x3d"ssf-error-email '+f+'"\x3e'+a.taf_custshare_channel_error_email+"\x3c/span\x3e\n                  \x3c/div\x3e\n              \x3c/div\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e"},getAvailableChannels:b}});"use strict";var X="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"===typeof Symbol&&l.constructor===Symbol&&l!==
Symbol.prototype?"symbol":typeof l};q.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetState").register("SocialShareWidgetCustomShareOptions",function(l,e,x,g){var a=l.$;e=e.SocialShareCore;var k=e.ShareSheet,f=e.Metrics,c=e.Constants,b=e.Logging,u=e.CSMMetrics,d=void 0,t=void 0,z=void 0,B=void 0,n=!1,v=l.constants.HIDE_CLASS;q.when("mash").execute(function(a){t=a});q.when("SocialShareWidgetTiny").execute(function(a){d=a});q.when("SocialShareWidgetCustomizeUtils").execute(function(a){z=
a});q.when("SocialShareWidgetCAFUtils").execute(function(a){B=a});return{init:function(e,w,y,x,q,C){var p=e.customShareBuiltChannels;w=e.isCustomShareOptionsSheetEnabled;var r=w===m?!1:w;w=e.isFallbackShareUrlEnabled;var F=w===m?!1:w;w=e.caf;var D=w===m?!1:w,R=e.shareDataAttributes;w=e.treatment;var L=w===m?"":w;w=e.weblab;var E=w===m?"":w;w=e.refererURL;var ba=w===m?"":w;l.on("ssf:event:caf-switch-change",function(a){n=a});var Y=function(a){a.addClass("ssf-noclick");a.find(".a-spinner").removeClass(v)},
H=function(a){a.removeClass("ssf-noclick");a.find(".a-spinner").addClass(v)},M=function(){return n?(e.t["taf-share-caf-messageprefix"]||"")+" "+e.title:e.title},N=function(a,b,c){n?B.prepareShareUrl(e,a,d,b,function(a,b){return c(a,b)}):e&&e.isHmpShareSheet?B.prepareHmpShareUrl(e,a,d,b,function(a,b){return c(a,b)}):z.prepareShareUrl(e,a,d,b,function(a){return c(a)})},O=function(a){a&&l.trigger("ssf:event:caf-share-complete-success",e)},S=function(){t.dispatchEvent({type:"axf:consultAFriend:shareCompletedSuccessfully",
detail:{isHmp:!0}})},W=function(a,c,d,f){try{var k=encodeURIComponent(f+" \n "+d);return"Messages"===c?l.capabilities.ios?"sms:///\x26body\x3d"+k:"mms:?\x26body\x3d"+k:"Email"===c?a=a.replace("\x26url\x3d{url}","").replace("{subject}",encodeURIComponent(e.emailSubject)).replace("{body}",""+k):"WhatsApp"===c?a=a.replace("{url}",""+k):a=a.replace("{text}",encodeURIComponent(f)).replace("{url}",encodeURIComponent(d)).replace("{titleAndURL}",encodeURIComponent(k))}catch(fa){return b.logErrorAUI("Failed to generate shareUrl for channel "+
c,fa),a}},P=function(a){n?(f.logCounter("Caf.customShareOptions.ChannelClick."+a),f.logCounter("CAF.edIngress.ChannelClick."+a+"."+e.cafIngressTreatment)):z.imageState.isEmpty()?f.logCounter("CustomShareOptions.ChannelClick."+a):f.logCounter("Books.customShareOptions.ChannelClick."+a)},G=function(){var a=0<arguments.length&&arguments[0]!==m?arguments[0]:"";a=0<a.length?"."+a:"";return n?""+c.CAF_CUSTOM_SHEET_CLICK_LATENCY_METRIC+a:z.imageState.isEmpty()?""+c.CUSTOM_SHEET_CLICK_LATENCY_METRIC+a:""+
c.BOOKS_CUSTOM_SHEET_CLICK_LATENCY_METRIC+a},T=function(){var a=G();f.startTimer(a);N(c.EMPTY_STRING,!e.isMWebCustomShare,function(b){var c=1<arguments.length&&arguments[1]!==m?arguments[1]:"";e.tinyUrl=b;var d=e;c&&(d=l.extend({channelSelectCB:function(){O(c)},cafSwitchEnabled:n},e),d.title=M());e&&e.isHmpShareSheet&&(d=l.extend({channelSelectCB:function(){S()}},e),d.title=M());(new k(d)).launch(function(){f.logCounter("customShareOptions.SheetOpen")});f.stopTimer(a)})},Q=function(a,b){var d=g.getAndReset(c.customizeShareStateKey);
return{channel:a,refMarker:b,refererURL:ba,shareDataAttributes:R,treatment:L,weblab:E,isCustomShareOptionsSheetEnabled:r,caf:D,cafSwitchEnabled:n,customizeShareCSAData:d,cafIngressTreatment:e.cafIngressTreatment}};a(".custom-share-native-sheet").unbind("click").click(function(a){try{P("more"),u.emitChannelClickCounter(c.CSM_SHEET_TYPE.CUSTOM,"More"),y(),T()}catch(ca){b.logFatalAUI('`Failed to launch native share sheet via "More" button on custom sheet',ca)}});var Z=function(a){return a&&"keyup"===
a.type&&!(13===a.keyCode||32===a.keyCode)};w=function(d){var k=this;try{var g=function(){if(Z(d))return{v:void 0};var b=G();f.startTimer(b);P("copy");var g=c.CUSTOM_SHARE_OPTIONS_CP_CHANNEL_REF,v=a(k);Y(v);N(g,!1,function(d){var k=1<arguments.length&&arguments[1]!==m?arguments[1]:"";navigator.clipboard.writeText(d).then(function(){var d=e.shareUrl.refMarker.getClickForChannel(g);f.logCSAEvent(c.CSA_HIT_TYPE.SHARE,Q("copy",d));u.emitChannelClickCounter(c.CSM_SHEET_TYPE.CUSTOM,"Copy",c.CSM_STATUS.SUCCESS);
n?f.logCounter("Caf.CustomShareOptions.CopySuccess"):z.imageState.isEmpty()?f.logCounter("customShareOptions.CopySuccess"):f.logCounter("Books.CustomShareOptions.CopySuccess");a(".ssf-feedback").show();H(v);y();f.stopTimer(b);k&&O(k);e&&e.isHmpShareSheet&&S()},function(){f.stopTimer(b);u.emitChannelClickCounter(c.CSM_SHEET_TYPE.CUSTOM,"Copy",c.CSM_STATUS.FAILURE);n?f.logCounter("Caf.CustomShareOptions.CopyFail"):z.imageState.isEmpty()?f.logCounter("CustomShareOptions.CopyFail"):f.logCounter("Books.CustomShareOptions.CopyFail");
C({shareData:e,channelRef:g,caf:D,cafSwitchEnabled:n});H(v)})})}();if("object"===("undefined"===typeof g?"undefined":X(g)))return g.v}catch(V){b.logFatalAUI("Failed to share using copy channel on custom share sheet",V)}};a(".custom-share-copy").unbind("click").click(w);a(".custom-share-copy").unbind("keyup").keyup(w);w=function(d){var k=this;try{var g=function(){if(Z(d))return{v:void 0};var g=a(k),n=g.data("name"),w=G(),r=G(n);f.startTimer(w);f.startTimer(r);var x=p[n],E=c.CUSTOM_SHARE_OPTIONS_REF_PREFIX+
"_"+x.ref,C=e.shareUrl.refMarker.getClickForChannel(E);a(".ssf-error-text").addClass(v);Y(g);N(E,!0,function(a){var d=1<arguments.length&&arguments[1]!==m?arguments[1]:"",k=W(x.shareUrl,x.label,a,M());t?t.launchIntentURL({url:k,successCallback:function(){f.stopTimer(w);f.stopTimer(r);H(g);y();f.logCounterRefactor("ChannelClick",R.ingress);f.logCounter("ChannelClick");P(n);u.emitChannelClickCounter(c.CSM_SHEET_TYPE.CUSTOM,x.label,c.CSM_STATUS.SUCCESS);d&&O(d);e&&e.isHmpShareSheet&&S();f.logCSAEvent(c.CSA_HIT_TYPE.SHARE,
Q(n,C))},failCallback:function(d){f.logCounter("customShareOptions.LaunchShareIntentFail");H(g);f.stopTimer(w);f.stopTimer(r);F&&x.fallbackShareUrl?(f.logCSAEvent(c.CSA_HIT_TYPE.SHARE,Q(n,C)),u.emitChannelClickCounter(c.CSM_SHEET_TYPE.CUSTOM,x.label,c.CSM_STATUS.FALLBACK_SUCCESS),h.location=W(x.fallbackShareUrl,x.label,a,M()),b.logWarnAUI("Failed to launch intent URL: "+k+" \n                      for channel: "+g+", falling back to web version",d)):(u.emitChannelClickCounter(c.CSM_SHEET_TYPE.CUSTOM,
x.label,c.CSM_STATUS.FAILURE),b.logErrorAUI("Failed to launch intent URL: "+k+" \n                      for channel: "+g,d),y(),T())}}):(H(g),f.logCSAEvent(c.CSA_HIT_TYPE.SHARE,Q(n,C)),u.emitChannelClickCounter(c.CSM_SHEET_TYPE.CUSTOM,x.label),y(),e.isMWebCustomShare?(f.stopTimer(w),f.stopTimer(r),f.logCounterRefactor("ChannelClick",R.ingress),f.logCounter("ChannelClick"),P(n),l.capabilities.ios?h.open(k,"_top"):h.open(k,"_blank")):h.open(k,"_blank"))})}();if("object"===("undefined"===typeof g?"undefined":
X(g)))return g.v}catch(V){b.logErrorAUI("Error while sharing to channel "+this,V)}};a(".ssf-custom-share-option:not(.custom-share-copy,.custom-share-native-sheet)").unbind("click");a(".ssf-custom-share-option:not(.custom-share-copy,.custom-share-native-sheet)").unbind("keyup");a(".ssf-custom-share-option:not(.custom-share-copy,.custom-share-native-sheet)").click(w);a(".ssf-custom-share-option:not(.custom-share-copy,.custom-share-native-sheet)").keyup(w)}}});"use strict";q.when("A","SocialShareWidgetState",
"atf").execute(function(l,e){var h=l.$("#ssf-primary-widget-desktop");l=l.$("#ssf-share-action");h=h.data("ssfShareIcon")||l.data("ssfShareIcon")||{};e.set("shareAapiCsrfToken",h.shareAapiCsrfToken);e.set("aapiBaseUrl",h.aapiBaseUrl);e.set("dpx",!0)});"use strict";q.when("A","SocialShareWidget").register("SocialShareSheetConfig",function(l,e){var h=e.SocialShareCore.Constants;e={image:"customchannels-whatsapp.png",stringId:"taf_customshare_whatsapp",ref:"wa",schemeURI:"whatsapp://",shareUrl:"https://api.whatsapp.com/send?text\x3d{url}",
label:"WhatsApp"};var g={image:"customchannels-fb-messenger.png",stringId:"taf_customshare_fbmessenger",ref:"fm",schemeURI:"fb-messenger://",shareUrl:"fb-messenger://share?link\x3d{url}",label:"Messenger"},a={label:"Line",image:"customchannels-line.png",ref:"li",shareUrl:"https://line.me/R/share?text\x3d{url}",fallbackShareUrl:"https://social-plugins.line.me/lineit/share?url\x3d{url}",schemeURI:"line://",stringId:"taf_customshare_line"},k={label:"X",image:"customchannels-x.png",ref:"tw",shareUrl:"https://twitter.com/intent/tweet?text\x3d{text}\x26url\x3d{url}",
schemeURI:"twitter://",stringId:"taf_customshare_x"},f={image:"customchannels-telegram.png",stringId:"taf_customshare_telegram",ref:"tg",schemeURI:"telegram://",shareUrl:"https://telegram.me/share/url?{url}",label:"Telegram"},c={image:"customchannels-sms.png",stringId:"taf_customshare_messages",ref:"sms",schemeURI:"sms://",shareUrl:"sms:?\x26body\x3d{text} {url}",label:"Messages"},b={ATVPDKIKX0DER:{prodEndpoint:"data.amazon.com",gammaEndpoint:"data-us-pre-prod.iad.corp.amazon.com",mShopShareChannels:[c,
e,g,f],mWebShareChannels:[c,e,g]},A2EUQ1WTGCTBG2:{prodEndpoint:"data.amazon.ca",gammaEndpoint:"data-ca-pre-prod.iad.corp.amazon.com",mShopShareChannels:[g,e,c,f],mWebShareChannels:[g,e,c]},A1AM78C64UM0Y8:{prodEndpoint:"data.amazon.com.mx",gammaEndpoint:"data-mx-pre-prod.iad.corp.amazon.com",mShopShareChannels:[e,g,f,c,{label:"Pinterest",image:"customchannels-pinterest.png",ref:"pi",shareUrl:"https://www.pinterest.com/pin/create/button/?url\x3d{url}",schemeURI:"pinterest://",stringId:"taf_customshare_pinterest"}],
mWebShareChannels:[e,c]},A2Q3Y263D00KWC:{prodEndpoint:"data.amazon.com.br",gammaEndpoint:"data-br-pre-prod.iad.corp.amazon.com",mShopShareChannels:[e,f,g,c,k],mWebShareChannels:[e,c]},A1F83G8C2ARO7P:{prodEndpoint:"data.amazon.co.uk",gammaEndpoint:"data-uk-pre-prod.dub.corp.amazon.com",mShopShareChannels:[e,g,c,f],mWebShareChannels:[e,g,c]},A1PA6795UKMFR9:{prodEndpoint:"data.amazon.de",gammaEndpoint:"data-de-pre-prod.dub.corp.amazon.com",mShopShareChannels:[e,g,c,f],mWebShareChannels:[e,c]},A13V1IB3VIYZZH:{prodEndpoint:"data.amazon.fr",
gammaEndpoint:"data-fr-pre-prod.dub.corp.amazon.com",mShopShareChannels:[e,g,c,f],mWebShareChannels:[e,g,c]},APJ6JRA9NG5V4:{prodEndpoint:"data.amazon.it",gammaEndpoint:"data-it-pre-prod.dub.corp.amazon.com",mShopShareChannels:[e,f,g,c],mWebShareChannels:[e,c]},A1RKKUPIHCS9HS:{prodEndpoint:"data.amazon.es",gammaEndpoint:"data-es-pre-prod.dub.corp.amazon.com",mShopShareChannels:[e,f,g,c],mWebShareChannels:[e,c]},A21TJRUUN4KGV:{prodEndpoint:"data.amazon.in",gammaEndpoint:"data-in-pre-prod.dub.corp.amazon.com",
mShopShareChannels:[e,f,c,g],mWebShareChannels:[e,c]},A1805IZSGTT6HS:{prodEndpoint:"data.amazon.nl",gammaEndpoint:"data-nl-pre-prod.dub.corp.amazon.com",mShopShareChannels:[e,g,f,c],mWebShareChannels:[e,g,c]},A33AVAJ2PDY3EV:{prodEndpoint:"data.amazon.com.tr",gammaEndpoint:"data-tr-pre-prod.dub.corp.amazon.com",mShopShareChannels:[e,f,c,g,k],mWebShareChannels:[e,c]},A1VC38T7YXB528:{prodEndpoint:"data.amazon.co.jp",gammaEndpoint:"data-jp-pre-prod.pdx.corp.amazon.com",mShopShareChannels:[a,e,k,g,c],
mWebShareChannels:[a,e,c]},A39IBJ37TRP1C6:{prodEndpoint:"data.amazon.com.au",gammaEndpoint:"data-au-pre-prod.pdx.corp.amazon.com",mShopShareChannels:[e,g,c,f],mWebShareChannels:[e,g,c]},AAHKV2X7AFYLW:{prodEndpoint:"data.amazon.cn",gammaEndpoint:"data-cn-pre-prod.pek.corp.amazon.com"},ARBP9OOSHTCHU:{prodEndpoint:"data.amazon.eg",gammaEndpoint:"data-eg-pre-prod.dub.corp.amazon.com",mShopShareChannels:[e,g,f,c],mWebShareChannels:[e,g,c]},A2VIGQ35RCS4UG:{prodEndpoint:"data.amazon.ae",gammaEndpoint:"data-ae-pre-prod.dub.corp.amazon.com",
mShopShareChannels:[e,g,f,c],mWebShareChannels:[e,c]},A17E79C6D8DWNP:{prodEndpoint:"data.amazon.sa",gammaEndpoint:"data-sa-pre-prod.dub.corp.amazon.com",mShopShareChannels:[e,g,f,c,a],mWebShareChannels:[e,c,a]},AD2EMQ3L3PG8S:{prodEndpoint:"data.amazon.ru",gammaEndpoint:"data-ru-pre-prod.pdx.corp.amazon.com"},A19VAU5U5O7RUS:{prodEndpoint:"data.amazon.sg",gammaEndpoint:"data-sg-pre-prod.pdx.corp.amazon.com",mShopShareChannels:[e,f,g,c,a],mWebShareChannels:[e,c,a]},A1C3SOZRARQ6R3:{prodEndpoint:"data.amazon.pl",
gammaEndpoint:"data-pl-pre-prod.dub.corp.amazon.com",mShopShareChannels:[g,e,c,f],mWebShareChannels:[g,e,c]},A2NODRKZP88ZB9:{prodEndpoint:"data.amazon.se",gammaEndpoint:"data-se-pre-prod.dub.corp.amazon.com",mShopShareChannels:[e,g,c,f],mWebShareChannels:[e,g,c]},AMEN7PMS3EDWL:{prodEndpoint:"data.amazon.com.be",gammaEndpoint:"data-be-pre-prod.dub.corp.amazon.com",mShopShareChannels:[e,g,c,f],mWebShareChannels:[e,g,c]},A2WDZJZ5TCRMLH:{prodEndpoint:"data.amazon.cl",gammaEndpoint:"data-cl-pre-prod.iad.corp.amazon.com"},
A1ZXRLSQW2V54D:{prodEndpoint:"data.amazon.com.co",gammaEndpoint:"data-co-pre-prod.iad.corp.amazon.com"},A3OCL2LJ6GDH9T:{prodEndpoint:"data.amazon.com.ng",gammaEndpoint:"data-ng-pre-prod.dub.corp.amazon.com"},AE08WJ6YKNBMC:{prodEndpoint:"data.amazon.co.za",gammaEndpoint:"data-za-pre-prod.dub.corp.amazon.com",mShopShareChannels:[e,g,c],mWebShareChannels:[e,g,c]},A28R8C7NBKEWEA:{prodEndpoint:"data.amazon.ie",gammaEndpoint:"data-ie-pre-prod.dub.corp.amazon.com",mShopShareChannels:[e,g,c,f],mWebShareChannels:[e,
g,c]}},m=/^https?:\/\/(.*?pre-prod|.*proxy)(.aka)?.amazon(.*)?$/;return{getAapiBaseUrl:function(a,c){var d=m.test(c)?"gammaEndpoint":"prodEndpoint";if(a&&b[a]&&b[a][d])return b[a][d];q.log("Error getting aapi base url for marketplace "+a+" and product url "+c,a?"FATAL":"ERROR",h.SSF_AUI_PACKAGE_ATTRIBUTION);return""},getShareChannels:function(a){var c=l.capabilities.isAmazonApp?"mShopShareChannels":"mWebShareChannels";return a&&b[a]&&b[a][c]?b[a][c]:[]}}});"use strict";q.when("A","SocialShareWidget").execute(function(l,
e){var h=void 0,g=e.SocialShareCore.Metrics;e=l.debounce(function(){clearTimeout(h)},200,!0);l.declarative("ssf-share-icon","touchstart",function(){h=setTimeout(function(){g.logCounter("longpress")},500)});l.declarative("ssf-share-icon","touchmove touchend",e)});"use strict";q.when("A","SocialShareWidget").register("SocialShareWidgetMetrics",function(l,e){var h=e.SocialShareCore.Metrics,g=function(a){a=a.pathname.split("/").filter(function(a){return l.contains(a,"ref\x3d")});return(a.length?a[0]:
"").replace("ref\x3d","")},a=function(a){return(a=a.match(/cm_sw_r_(?:cso_)?(.*?)_/))?a[1]:m};q.now("SocialShareWidgetLoadedBTF").execute(function(a){a?h.logCounter("btf:render"):h.logCounter("atf:render")});q.when("atf").execute(function(){try{var e=l.capabilities,f=e.tablet;e.isIE&&h.logCounter("render.ie");(f||600<screen.width&&e.isAmazonApp)&&h.logCounter("render.tablet");var c=new URL(location.href);if(c.href.includes("cm_sw_r_")){var b=c.searchParams.get("ref")||c.searchParams.get("ref_");b||
(b=g(c));if(b.startsWith("cm_sw_r_")){var m=a(b);m&&h.logCounter("return.visit."+m);h.logCounter("return.visit")}}c.searchParams.get("cafId")&&h.logCounter("CAF.cafDeepLink")}catch(d){h.logCounter("urlparam.issue")}});return{getRefEq:g,getChannelFromRef:a}});"use strict";q.register("SocialShareWidgetLinkUtil",function(){return{reorderQueryParams:function(l){try{var e=new URL(l.href||l),h=e.searchParams;if(h.get("ref_")){var g=h.get("ref_"),a=h.get("newPreview"),k=h.get("bestFormat"),f=h.get("language"),
c=h.get("titleSource");h.delete("ref_");h.delete("newPreview");h.delete("bestFormat");h.delete("language");h.delete("titleSource");e.searchParams.append("ref_",g);a&&e.searchParams.append("newPreview",a);k&&e.searchParams.append("bestFormat",k);f&&e.searchParams.append("language",f);c&&e.searchParams.append("titleSource",c)}return e.toString()}catch(b){return l.toString()}}}});"use strict";q.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetCustomizeUtils","SocialShareWidgetOnShareUtils").register("SocialShareWidgetCustomize",
function(l,e,x,g,a){e=e.SocialShareCore;var k=l.$,f=e.ShareSheet,c=e.Url,b=e.Metrics,u=e.Logging,d=e.Constants,t=e.CSMMetrics,z=b.getMetricName(k,d.customize),B=l.constants.HIDE_CLASS,n=function(){},v,p=0,w=void 0,y=void 0,D=void 0,F=!1;q.when("a-checkbox").execute(function(a){return y=a});q.when("a-button").execute(function(a){return w=a});try{(function(){var e=g.imageState;l.declarative("cafCheckboxAction","change",function(){D()});l.on(g.getEventName("Hide"),function(a){a.sheet.getContentContainer().remove();
e.clear()});l.on("a:sheet:beforeShow:ssf-customize-bottom-sheet",function(a){L(a.sheet)});l.on("a:sheet:afterShow:ssf-customize-bottom-sheet",function(){t.emitImpressionCounter(d.CSM_SHEET_TYPE.CUSTOM)});l.on("a:sheet:afterHide:ssf-customize-bottom-sheet",function(){t.emitSheetCloseCounter(d.CSM_SHEET_TYPE.CUSTOM)});var u=function(a,c,d){var f=k(".ssf-preview-container"),n=k(".ssf-caf-preview"),h=(v=c)?"CAF.switchOn":"CAF.switchOff";b.logCounter(z,h);b.logCounterRefactor(h,d);l.trigger("ssf:event:caf-switch-change",
c);e.isConsultAFriendPreview=c;d=g.getImageData(a,e);F?g.getBackendPreviewImage(a,d,function(b){b?K(b):l.trigger("ssf:event:preview-generation-failed",a)}):c?(n.fadeIn(100),f.hide()):(f.fadeIn(100),n.hide())},r=function(b){var c=b.shareData,d=b.channelRef,e=c.shareUrl;b=c.isOnShareGatingEnabled;b=b===m?!1:b;var f=c.aapiBaseUrl;f=f===m?"":f;var g=c.shareAapiCsrfToken;g=g===m?"":g;var k=c.tinyUrlEnabled;k=k===m?!1:k;var n=c.deeplinkInfo;n=n===m?{}:n;var h=c.shareDataAttributes,v=c.storeId;v=v===m?"":
v;e.refMarker.isBestFormatEnabled=c.isBestFormatEnabled;e=d?e.getReturnForChannel(d):e.return;d=a.getChannelName(d);var l=a.getOsType();h=h.marketplaceId;return{tinyUrlEnabled:k,aapiBaseUrl:f,shareAapiCsrfToken:g,marketplaceId:h===m?"":h,url:e,isOnShareGatingEnabled:b,extractedRef:d,osType:l,originalUrl:c.url||e,refMarkerId:p++,deeplinkInfo:n,storeId:v}},I=function(a,e,g,n,v,p,u){var y=g.shareDataAttributes,t=g.url,E=y.asin,x=y.ingress;y=g.refId;k(".ssf-customize-share-btn").find(".a-spinner").addClass(B);
w(".ssf-customize-share-btn").enable();e();var F=!1;e=new URL(p===m?t:p);n&&(y=d.CAF_REF_PREFIX+"_"+y,e.searchParams.append("cafId",n),e.searchParams.append("cafASIN",v),v!==E&&b.logCounter(z,"CAF.ShareASINMismatch"),F=!0);e.searchParams.append("language",h.languageOfPreference||g.locale||"en_US");g.shareUrl=new c(e.toString(),y);var D=r({shareData:g});q.when("SocialShareWidgetTiny").execute(function(c){c.fetch({data:D,callback:function(c){g.tinyUrl=c;u&&u();c=l.extend({channelSelectCB:function(){n&&
l.trigger("ssf:event:caf-share-complete-success",g)},cafSwitchEnabled:F},g);(new f(c)).launch(function(){l.delay(function(b){a(g)},100);n?(b.logCounter(z,"CAF.ShareSheetOpen"),b.logCounterRefactor("CAF.ShareSheetOpen",x)):(b.logCounter(z,"ShareSheetOpen"),b.logCounterRefactor("ShareSheetOpen",x))})}})})},K=function(a){if(!(1<arguments.length&&arguments[1]!==m&&arguments[1])){var b=new Image;b.src=a;b.onload=function(){e.productImageProperties.width=this.width;e.productImageProperties.height=this.height}}},
R=function(a){a=a.popularHighlightStrings;var b=[];b.push({id:"BackgroundImageTab",physicalId:"417kcYISTOL.jpg",url:"https://m.media-amazon.com/images/I/417kcYISTOL.jpg"});a.length&&(defaultQuote=a[0].replace(/"|”|“/g,""),b.push({id:"BookQuotesTab",value:defaultQuote}));return b},L=function(a){var c=a.$contentContainer,d=parseInt(a.$container.css("max-height"));c=parseInt(c.height());d<c?(a.$contentContainer.css("height",d),b.logCounter("SmallDevice")):a.$contentContainer.css("height","auto")};n=
function(a,c,f,n){var h=a.shareDataAttributes,p=a.treatment,r=p===m?"":p;p=a.weblab;var C=p===m?"":p;p=a.caf;p=p===m?!1:p;var A=a.isCafPreviewGenerationMigrationEnabled,E=h.ingress;e.currentPreview=g.getRegularImage();v=a.cafSwitch;p&&A&&(F=!0);p=function(a,b){0<b.length&&b.forEach(function(a){e.set(a)})};var G=function(a){b.logCounter(z,a);b.logCounterRefactor(a,E);b.logCounter(a)},H=function(a,b){x.build(a).fetchTabs(function(c){q.now("SocialShareWidgetCustomizeTemplate").execute(function(d){k(".ssf-tabs").html(d.getTabs(a,
c));b(c)})})};D=function(){var b=y(".ssf-caf-toggle");u(a,b.isChecked(),E)};a.customize&&a.customizePreSelected?(A=R(a),e.defaultCustomizationOptions=A,p(a,A),p=g.getImageData(a,e),g.getBackendPreviewImage(a,p,function(a){e.currentImage=a;K(a);g.adjustPreviewHeight();L(n)})):F?(p=g.getImageData(a,e),g.getBackendPreviewImage(a,p,function(b){b?K(b):l.trigger("ssf:event:preview-generation-failed",a)})):u(a,v,E);k(".ssf-customize-share-btn").click(function(){w(".ssf-customize-share-btn").isEnabled()&&
(k(".ssf-customize-share-btn").find(".a-spinner").removeClass(B),w(".ssf-customize-share-btn").disable(),v?(G("CAF.shareClick"),b.startTimer("CAF.fetchCAFAndTinyURL"),a.title=(a.t["taf-share-caf-messageprefix"]||"")+" "+a.title,x.build(a).fetchCAFID(function(d,e,g){I(c,f,a,d,e,g,function(){b.stopTimer("CAF.fetchCAFAndTinyURL")})})):(G("shareClick"),b.logCSAEvent(d.CSA_HIT_TYPE.CUSTOMIZE_SHARE,{channel:d.EMPTY_STRING,refMarker:a.shareUrl.refMarker.click,shareDataAttributes:h,treatment:r,weblab:C}),
I(c,f,a)))});k(".ssf-caf-toggle-ed-ingress").click(function(){G("CAF.edIngressTapped"+a.cafIngressTreatment);g.transitionToCAFEducationPage();L(n)});k(".ssf-customize-icon").click(function(){w(this).isEnabled()&&(G("CustomizeButtonClick"),t.emitEditIconClickCounter(),w(this).disable(),e.currentPreview=g.getCustomizeImage(),H(a,function(b){b.forEach(function(a){var b="input[type\x3dradio][name\x3d"+a.id+"]";k(b).change(function(a){a=JSON.parse(a.target.value);Q(a);k(b).unbind("click");k(this).one("click",
function(a){a=a.target;a.checked=!1;a=JSON.parse(a.value);J(a)})})});a.customizePreSelected&&(k("#BackgroundImageTab1").trigger("click"),k("#BookQuotesTab0").trigger("click"));b=g.getImageData(a,e);g.getBackendPreviewImage(a,b,function(a){e.currentImage=a;g.transitionToCustomizePage();g.adjustCustomizedPreviewHeight();L(n);K(a)})}))});k(".ssf-customize-edit-poll-btn").click(function(){w(this).isEnabled()&&(w(this).disable(),l.trigger("ssf-edit-your-poll-trigger",a.hmpState),G("HMP.EditYourPoll.Clicked"),
f())});var Q=function(b){g.setImage();Array.isArray(b)?b.forEach(function(a){e.set(a)}):e.set(b);var c=g.getImageData(a,e);G(b.id+"Select");g.getBackendPreviewImage(a,c,function(a){e.currentImage=a;K(a)})},J=function(b){g.setImage();G(b.id+"Unselect");e.unset(b);b=g.getImageData(a,e);g.getBackendPreviewImage(a,b,function(a){e.currentImage=a;K(a)})};k(".ssf-back-btn").click(function(){g.isCAFEducationPageVisible()&&G("CAF.edBackTapped"+a.cafIngressTreatment);e.currentPreview=g.getRegularImage();b.logCounter("BackButtonClick");
g.resetPreviewState(e);g.transitionToDefaultPage();L(n)});q.when("a-checkbox").execute(function(a){k(".ssf-caf-toggle-label").click(function(){var b=a(".ssf-caf-toggle");b.check(!b.isChecked())})});l.on("ssf:event:preview-generation-failed",function(a){F=!1;k(".ssf-backend-preview").addClass(B);k(".ssf-html-preview").removeClass(B);u(a,v,E)});t.emitEditIconRenderCounter(d.CSM_STATUS.SUCCESS)}})()}catch(C){b.logCounter(z,"Error"),b.logLoad("Error"),u.logFatalAUI("Error loading Customize widget",C),
t.emitEditIconRenderCounter(d.CSM_STATUS.FAILURE)}finally{b.logCounter(z,"Render"),b.logLoad("Render")}return{init:n}});"use strict";q.when("A","SocialShareWidget").register("SocialShareWidgetCustomizeTemplate",function(h,e){e=e.SocialShareCore;var l=h.capabilities.rtl,g=e.Constants,a=e.ToolBelt,k=function(a){var b=1<arguments.length&&arguments[1]!==m?arguments[1]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+a;return'\x3cimg class\x3d"'+b+'" src\x3d"'+a+'"/\x3e'},
f=function(a){var b=1<arguments.length&&arguments[1]!==m?arguments[1]:"ssf-product-title-text";h.on("a:sheet:afterShow:ssf-customize-bottom-sheet",function(){h.$(".ssf-title-label").text(a.title)});return'\x3cdiv class\x3d"a-color-secondary a-padding-small '+b+'"\x3e\n      \x3cspan class\x3d"ssf-title-label" id\x3d"ssf-title-label"\x3e\n        \x3c!-- TITLE  --\x3e\n      \x3c/span\x3e\n    \x3c/div\x3e'},c=function(a){return'\x3cdiv class\x3d"ssf-product-preview"\x3e'+b(a.productImage,"","","ssf-title-label",
"ssf-img-main-image")+"\x3c/div\x3e"},b=function(a){var b=1<arguments.length&&arguments[1]!==m?arguments[1]:"",c=2<arguments.length&&arguments[2]!==m?arguments[2]:"",d=3<arguments.length&&arguments[3]!==m?arguments[3]:"",e=4<arguments.length&&arguments[4]!==m?arguments[4]:"";a=a.startsWith("http")?a:"https://m.media-amazon.com/images/G/01/share-icons/"+a;return c||d?'\x3cimg class\x3d"'+b+'" '+(d?'aria-labelledby\x3d"'+d+'"':"")+" "+(c?'aria-label\x3d"'+c+'"':"")+' src\x3d"'+a+'" id\x3d"'+e+'"/\x3e':
k(a,b)},u=function(){return'\x3cspan class\x3d"a-size-mini ssf-rating-count" id\x3d"ssf-reviews-count"\x3e'+(0<arguments.length&&arguments[0]!==m?arguments[0]:"")+"\x3c/span\x3e"},d=function(a){return'\x3cul class\x3d"ssf-options-box-container a-unordered-list a-nostyle"\x3e'+a.values.map(function(b,c){var d=h.extend(b,{id:a.id}),e={id:a.id,position:c,val:d,background:b.url};a.isQuote&&(e=h.extend(e,{center:!0,width:150,content:d.displayText,background:m}));d=e.id;c=e.position;b=e.content;b=b===m?
"":b;var f=e.width,g=f===m?100:f,k=e.background;f=e.center;f=f===m?!1:f;e=e.val;g='style\x3d"width: '+g+"px;background-image: url("+(k===m?"":k)+");background-size: "+g+"px "+g+'px;"';k=JSON.stringify(e);c=d+c;e=e.label||"";var n='\x3cspan class\x3d"aok-offscreen"\x3e'+e+"\x3c/span\x3e";f&&(n='\x3cspan class\x3d"a-box-inner a-text-center ssf-q-text"\x3e'+b+"\x3c/span\x3e");return'\x3cli class\x3d"ssf-options-box" aria-label\x3d\''+e+"'\x3e\n              \x3cinput id\x3d\""+c+'" type\x3d"radio" name\x3d"'+
d+"\" value\x3d'"+k+"' aria-label\x3d'"+e+"'\x3e\x3c/input\x3e\n              \x3clabel for\x3d\""+c+'" class\x3d"a-box a-text-normal" '+g+"\x3e"+n+"\x3c/label\x3e\n            \x3c/li\x3e"}).join("")+"\x3c/ul\x3e"},t=function(a){var b=1<arguments.length&&arguments[1]!==m?arguments[1]:"",c=2<arguments.length&&arguments[2]!==m?arguments[2]:!1;return'\x3cli class\x3d"a-tab-heading ssf-customize-tab '+(c?"a-active":"")+'" data-a-tab-name\x3d"ssf-tab-'+a+'" role\x3d"presentation"\x3e\n              \x3ca aria-label\x3d"'+
b+'" href\x3d"#" role\x3d"tab" aria-selected\x3d"'+(c?"true":"false")+'" '+(c?"":'tabindex\x3d"-1"')+"\x3e"+b+"\x3c/a\x3e\n            \x3c/li\x3e"},q=function(a){return'\x3cdiv data-a-name\x3d"ssf-tab-'+a+'" class\x3d"ssf-tab-'+a+" a-box a-box-tab a-tab-content "+(3<arguments.length&&arguments[3]!==m&&arguments[3]?"":"a-hidden")+' a-padding-mini" role\x3d"tabpanel" tabindex\x3d"0"\x3e\n              '+(1<arguments.length&&arguments[1]!==m?arguments[1]:"")+"\n            \x3c/div\x3e"},B=function(){return(0<
arguments.length&&arguments[0]!==m?arguments[0]:[]).map(function(a){a=a.replace(/"|”|“/g,"");return{displayText:"“"+a+"”",value:a}})};return{getTabs:function(a,b){var c=a.popularHighlightStrings;if(!b.length)return"";var e="",f="",g=-1;b.forEach(function(a,b){a.isQuote&&(a.values=B(c));if(!a.values.length)return"";-1===g&&(g=b);b=b===g;e+=t(a.id,a.heading,b);f+=q(a.id,d(a),a.text,b)});return'\x3cdiv class\x3d"a-tab-container a-size-small"\x3e'+('\x3cul data-action\x3d"a-tabs" class\x3d"a-tabs a-declarative ssf-customize-tab a-spacing-small" role\x3d"tablist" data-a-tabs\x3d\'{"name": "customize-tabs"}\'\x3e\n        '+
e+"\x3c/ul\x3e"+f)+"\x3c/div\x3e"},getCustomizeBox:function(a){return'\x3cdiv class\x3d"a-box a-spacing-top-large a-padding-base ssf-customize-box"\x3e\n      '+('\x3ch5 class\x3d"a-size-small a-spacing-micro"\x3e'+a.taf_custshare_customizelong+"\x3c/h5\x3e")+('\x3cp class\x3d"a-size-small a-color-secondary"\x3e'+a.taf_custshare_customizedesc+"\x3c/p\x3e")+('\x3cspan class\x3d"a-button a-button-small" id\x3d"ssf-customize-share"\x3e\n      \x3cspan class\x3d"a-button-inner"\x3e\n        \x3cbutton class\x3d"a-button-text" type\x3d"button"\x3e'+
a.taf_custshare_customizeshort+"\x3c/button\x3e\n      \x3c/span\x3e\n    \x3c/span\x3e")+"\n    \x3c/div\x3e"},getBackArrow:function(a){a=a["taf-share-general-gobacktopage"]||"";return'\x3cbutton type\x3d"button" class\x3d"ssf-back-btn a-padding-small" aria-label\x3d"'+a+'" tabindex\x3d"0"\x3e'+('\x3cimg src\x3d"https://m.media-amazon.com/images/G/01/share-icons/arrow-left.svg" alt\x3d"'+a+'"\x3e')+"\x3c/button\x3e"},tabsContainer:'\x3cdiv class\x3d"a-row a-spacing-top-micro ssf-tabs a-color-base-background a-padding-mini"\x3e\x3c/div\x3e',
getImageSection:function(a){var d=f(a);var e=a.isCafPreviewGenerationMigrationEnabled;var g=a.customize,h=a.customizePreSelected;e=a.caf&&e?!0:g&&h?!0:!1;g=a.customize;h=(h=a.productImage)&&0<h.length&&!h.match(/\.gif$/i);g='\x3cdiv class\x3d"a-padding-base ssf-preview-container"\x3e\n      '+(g&&h?'\x3cspan id\x3d"ssf-customize-icon" class\x3d"ssf-customize-icon"\x3e'+k("customize")+"\x3c/span\x3e":"")+'\n      \x3cspan class\x3d"a-spinner a-spinner-medium a-align-center ssf-preview-spinner aok-hidden"\x3e\x3c/span\x3e\n    \x3c/div\x3e';
e='\x3cdiv class\x3d"a-box ssf-preview-box"\x3e\n              \x3cdiv class\x3d"ssf-backend-preview '+(e?"":"aok-hidden")+'"\x3e'+g+'\x3c/div\x3e\n              \x3cdiv class\x3d"ssf-html-preview '+(e?"aok-hidden":"")+'"\x3e';var n=a.customize,t=a.productImage;h=a.t;g=c({productImage:t});var q=a.starRating;q=q===m?"ZERO":q;a=a.numberOfReviews;q=b("RIO"+q+(l?"r":"")+".png","ssf-caf-stars",q+" star rating","","ssf-img-reviews-stars");a=u(a);a='\x3cdiv class\x3d"ssf-caf-rating"\x3e\n              \x3cdiv class\x3d"ssf-caf-rating-left"\x3e\n                '+
q+a+"\n              \x3c/div\x3e\n            \x3c/div\x3e";t=t&&0<t.length&&!t.match(/\.gif$/i);n=n&&t?'\x3cspan id\x3d"ssf-customize-icon" class\x3d"ssf-customize-icon"\x3e'+k("customize")+"\x3c/span\x3e":"";h='\x3cp class\x3d"a-size-base a-spacing-micro ssf-caf-text" id\x3d"ssf-caf-text"\x3e'+h.taf_custshare_caf_recipientemoji+"\x3c/p\x3e";t=b("caf-emojis"+(l?"r":"")+".png","ssf-caf-emojis","A heart eyes emoji, a thinking emoji, and a frowning emoji","","ssf-img-emoji-label");return e+('\x3cdiv class\x3d"a-padding-base ssf-preview-container"\x3e\n              '+
n+'\n              \x3cspan class\x3d"a-spinner a-spinner-medium a-align-center ssf-preview-spinner aok-hidden"\x3e\x3c/span\x3e\n              '+g+"\n              "+a+"\n            \x3c/div\x3e "+('\x3cdiv class\x3d"ssf-caf-preview"\x3e\n              \x3cdiv class\x3d"a-padding-base ssf-caf-image"\x3e\n                \x3cdiv class\x3d"a-row ssf-caf-image-stickers"\x3e'+g+('\x3cdiv class\x3d"a-column ssf-caf-stickers"\x3e'+h+t+"\x3c/div\x3e")+"\x3c/div\x3e\n                  "+a+"\n                \x3c/div\x3e\n            \x3c/div\x3e"))+
"\x3c/div\x3e\n              "+d+"\n            \x3c/div\x3e"},getHmpImageSection:function(b){var d=b.productImage;b='\x3cdiv class\x3d"a-color-secondary a-padding-small ssf-title-text-hmp"\x3e\n    \x3cspan\x3e\n    '+a.sanitizeInput(b.hmpState.title)+"\n    \x3c/span\x3e\n    \x3c/div\x3e";return'\x3cdiv class\x3d"a-box ssf-preview-box"\x3e\n                '+c({productImage:d})+"\n                "+b+"\n            \x3c/div\x3e"},getCustomizePreviewImage:function(a){return'\x3cdiv class\x3d"a-box ssf-no-border ssf-cus-img-container"\x3e\n      \x3cdiv class\x3d"ssf-cus-img"\x3e\x3cspan class\x3d"a-spinner a-spinner-medium a-align-center ssf-preview-spinner aok-hidden"\x3e\x3c/span\x3e\x3c/div\x3e\n      '+
f(a,"ssf-product-title-text-small")+"\n    \x3c/div\x3e"},getToggleContainer:function(a){var b=1<arguments.length&&arguments[1]!==m?arguments[1]:"",c=a.taf_custshare_caf_ingress_alt2,d='\x3csmall\x3e\x3ca class\x3d"ssf-caf-toggle-ed-ingress a-size-base a-link-normal"\x3e'+(a.taf_custshare_caf_ingress_learn_more||"Learn more")+"\x3c/a\x3e\x3c/small\x3e",e=k("https://m.media-amazon.com/images/G/01/AppFirst/ConsultAFriend/information-default.png");return'\x3cdiv class\x3d"a-row a-spacing-top-medium-plus a-grid-vertical-align a-grid-center a-spacing-micro"\x3e\n      \x3cdiv class\x3d"a-column a-span1"\x3e\x3cdiv class\x3d"a-checkbox a-declarative a-checkbox-fancy ssf-caf-toggle" data-action\x3d"cafCheckboxAction"\x3e\n      \x3clabel class\x3d"a-padding-none" aria-labelledby\x3d"caf-checkbox-label"\x3e\n        \x3cinput class\x3d"a-declarative" name\x3d"caf" type\x3d"checkbox"\x3e\n        \x3ci class\x3d"a-icon a-icon-checkbox" id\x3d"ssf-caf-checkbox"\x3e\x3c/i\x3e\n      \x3c/label\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n      \x3cdiv class\x3d"a-column a-span10"\x3e\n        \x3csmall id\x3d"caf-checkbox-label" class\x3d"ssf-caf-toggle-label a-size-base"\x3e'+
c+".\x3c/small\x3e\n        "+(b===g.CAF_INFO_ICON_KEY?'\x3cspan class\x3d"ssf-info-icon ssf-caf-toggle-ed-ingress"\x3e\x3cstrong\x3e'+e+"\x3c/strong\x3e\x3c/span\x3e":b===g.CAF_LEARN_MORE_KEY?d:"")+"\n      \x3c/div\x3e\n    \x3c/div\x3e"},getEducationCXBody:function(a){return'\x3cdiv class\x3d"a-box ssf-no-border"\x3e\n        '+('\x3cdiv class\x3d"a-color-secondary a-padding-small"\x3e\n      \x3cspan\x3e\n        '+(a.taf_custshare_caf_education_body||"Ask your friends for help. Use this option to ask friends to react to the item with an emoji. You can share the link by messaging your friends or posting on social media. You’ll get a notification for each reaction.")+
"\n      \x3c/span\x3e\n    \x3c/div\x3e")+'\n        \x3cdiv class\x3d"ssf-caf-education-video a-padding-base"\x3e\n          \x3cvideo id\x3d"ssf-caf-education-video" loop playsinline\x3e\n            \x3csource src\x3d"https://m.media-amazon.com/images/G/01/AppFirst/ConsultAFriend/caf-education-no-audio.mp4" type\x3d"video/mp4"\x3e\n          \x3c/video\x3e\n        \x3c/div\x3e\n      \x3c/div\x3e'}}});"use strict";X="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(h){return typeof h}:
function(h){return h&&"function"===typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};q.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetState","SocialShareWidgetOnShareUtils").register("SocialShareWidgetCustomizeUtils",function(l,e,q,g,a){function k(a){var b=a.values,c=b.BackgroundImageTab,d=b.DeviceCoverImageTab,e=b.BookQuotesTab;b=b.isConsultAFriendPreview;var f=a.productImageProperties;a=f.width;f=f.height;return{bgId:(c===m?{}:c).physicalId||"",
deviceId:(d===m?{}:d).physicalId||"",quoteValue:(e===m?{}:e).value||"",isConsultAFriendPreview:b===m?!1:b,width:a===m?"":a,height:f===m?"":f}}function f(b,c){var d=b.shareUrl,e=b.socialLinks;e=e===m?{}:e;d.refMarker.isBestFormatEnabled=b.isBestFormatEnabled;d=c?d.getReturnForChannel(c):d.return;c=a.getChannelName(c);var f=a.getOsType(),g=b.aapiBaseUrl,k=b.shareAapiCsrfToken,h=b.tinyUrlEnabled,l=b.deeplinkInfo;l=l===m?{}:l;var v=b.isOnShareGatingEnabled;v=v===m?!1:v;var p=b.shareDataAttributes,u=p.marketplaceId;
p=p.asin;return{tinyUrlEnabled:h===m?!1:h,aapiBaseUrl:g===m?"":g,shareAapiCsrfToken:k===m?"":k,marketplaceId:u===m?"":u,asin:p===m?"":p,url:d,originalUrl:e.shareframework||b.url||d,refMarkerId:n++,deeplinkInfo:l,isOnShareGatingEnabled:v,extractedRef:c,osType:f}}function c(a,b,c,d){if(c.isEmpty()||X(c.currentImage)===m||X(c.currentImage)!==m&&!c.currentImage.length)return d({});c=encodeURIComponent(c.currentImage);q.build(a).externalizeImage(c,d,b)}function b(a,b,c){q.build(a).generateImage(b,function(a){c(a.entity)})}
e=e.SocialShareCore;var u=l.constants.HIDE_CLASS,d=l.$,t=e.Constants,x=e.Metrics,B=e.Url,n=0;return{getEventName:function(a){return"a:sheet:after"+a+":ssf-customize-bottom-sheet"},getCustomizeImage:function(){return d(".ssf-cus-img")},getCustomizeImageContainer:function(){return d(".ssf-cus-img-container")},getRegularImage:function(){return d(".ssf-backend-preview .ssf-preview-container")},getPreviewBox:function(){return d(".ssf-preview-box")},setImage:function(a){this.imageState.currentPreview.css("background-image",
'url("'+a+'")')},showSpinner:function(){this.imageState.currentPreview.find(".a-spinner").removeClass(u)},hideSpinner:function(){this.imageState.currentPreview.find(".a-spinner").addClass(u)},transitionToCustomizePage:function(){d(".ssf-customize-container-one").addClass(u);d(".ssf-customize-container-two").removeClass(u).addClass("ssf-customize-transition")},transitionToCAFEducationPage:function(){d(".ssf-customize-container-one").addClass(u);d(".ssf-customize-container-three").removeClass(u).addClass("ssf-customize-transition");
var a=d("#ssf-caf-education-video").get(0);a&&(a.currentTime=0,a.play())},isCAFEducationPageVisible:function(){return d(".ssf-customize-container-three").is(":visible")},adjustCustomizedPreviewHeight:function(){this.getCustomizeImageContainer().css({width:.76*h.innerWidth});var a=parseInt(this.getCustomizeImage().css("border-left-width"))+parseInt(this.getCustomizeImage().css("border-right-width")),b=this.getCustomizeImage().innerWidth();this.getCustomizeImage().css({height:(b+a)/1.91})},adjustPreviewHeight:function(){this.getPreviewBox().css({width:.93*
h.innerWidth});var a=parseInt(this.getRegularImage().css("border-left-width"))+parseInt(this.getRegularImage().css("border-right-width")),b=this.getRegularImage().innerWidth();this.getRegularImage().css({height:(b+a)/1.91})},transitionToDefaultPage:function(){d(".ssf-customize-container-two").addClass(u);d(".ssf-customize-container-three").addClass(u);d(".ssf-customize-container-one").removeClass(u).addClass("ssf-customize-transition-back")},getImageData:function(a,b){var c=k(b);return{productImageUrl:a.productImage,
starRating:a.starRating||"",numberOfReviews:a.numberOfReviews||"",backgroundImagePhysicalId:c.bgId,deviceCoverImagePhysicalId:c.deviceId,bookQuote:c.quoteValue,productImageWidth:c.width,productImageHeight:c.height,consultAFriendPreviewEnabled:b.isConsultAFriendPreview,previewDohEnabled:a.previewDoh}},resetPreviewState:function(a){a.clear();0<a.defaultCustomizationOptions.length&&a.defaultCustomizationOptions.forEach(function(b){a.set(b)})},getBackendPreviewImage:function(a,c,d){var e=this;e.setImage("");
e.showSpinner();b(a,c,function(a){a&&"SUCCEEDED"===a.status?(a=a.customizedImage.url,e.hideSpinner(),e.setImage(a),d(a)):d()})},setCustomizeCSAData:function(a,b){var c=t.customizeShareStateKey;b=k(b);var d=t.TRUE,e=t.FALSE;g.set(c,{backgroundImagePhysicalId:b.bgId,deviceCoverImagePhysicalId:b.deviceId,hasQuote:0<b.quoteValue.length?d:e,isCustomizedExperienceEnabled:a.customize?d:e,isCustomized:b.bgId||b.deviceId||b.quoteValue?d:e,customizePreSelected:a.customizePreSelected?d:e,isQuotesAvailable:a.popularHighlightStrings?
d:e})},prepareShareUrl:function(a,b,d,e,g){this.setCustomizeCSAData(a,this.imageState);c(a,e,this.imageState,function(c){var k=c.entity;c=new URL(a.url);var h=b;k&&k.physicalId?(x.logCounterRefactor("externalizeImageSuccess"),c.searchParams.append("cspi",k.physicalId),h=b+"_"+t.BOOKS_REF_PREFIX):(a.customizePreSelected&&(x.logCounter("booksPreviewNotAvailable"),h=b+"_"+t.BOOKS_REF_PREFIX+"_"+t.BOOKS_CUSTOMIZE_PREVIEW_NOT_AVAILABLE),a.eventPreviewTreatment&&"c"!==a.eventPreviewTreatment.toLowerCase()&&
(k=a.eventPreviewTreatment.match(/^T(\d+)$/),c.searchParams.append("peakEvent",k[1]),x.logCounterRefactor("EventPreview"+a.eventPreviewTreatment,a.shareDataAttributes.ingress)));a.shareUrl=new B(c.toString(),a.refId);c=f(a,h);d.fetch({data:c,isAsync:e,callback:function(a){g(a)}})})},imageState:{clear:function(){this.values={}},isEmpty:function(){return d.isEmptyObject(this.values)},values:{},unset:function(a){delete this.values[a.id]},set:function(a){this.values[a.id]=a},defaultCustomizationOptions:[],
currentImage:"",isConsultAFriendPreview:!1,currentPreview:"",productImageProperties:{width:0,height:0}}}});"use strict";q.when("A","SocialShareWidget","SocialShareWidgetAPI","SocialShareWidgetOnShareUtils").register("SocialShareWidgetCAFUtils",function(l,e,q,g){function a(a,c){var d=a.shareUrl,e=a.socialLinks;e=e===m?{}:e;d.refMarker.isBestFormatEnabled=a.isBestFormatEnabled;var f=a.isHmpShareSheet?"hmp":k.CAF_REF_PREFIX;d=c?d.getReturnForChannel(f+"_"+c):d.return;c=g.getChannelName(c);f=g.getOsType();
d=new URL(d);d.searchParams.has("language")||d.searchParams.append("language",h.languageOfPreference||a.locale||"en_US");d=d.toString();var l=a.aapiBaseUrl,u=a.shareAapiCsrfToken,p=a.tinyUrlEnabled,q=a.deeplinkInfo;q=q===m?{}:q;var x=a.isOnShareGatingEnabled,D=a.shareDataAttributes.marketplaceId;return{tinyUrlEnabled:p===m?!1:p,aapiBaseUrl:l===m?"":l,shareAapiCsrfToken:u===m?"":u,marketplaceId:D===m?"":D,url:d,isOnShareGatingEnabled:x===m?!1:x,extractedRef:c,osType:f,originalUrl:e.shareframework||
a.url||d,refMarkerId:b++,deeplinkInfo:q}}var k=e.SocialShareCore.Constants,f=e.SocialShareCore.Url,c=e.SocialShareCore.Metrics,b=0;return{prepareShareUrl:function(b,d,e,g,h){var l=b.refId;c.logCounterRefactor("CAF.shareChannelClick",b.ingress);c.startTimer("CAF.fetchCAFAndTinyURL");l=k.CAF_REF_PREFIX+"_"+l;q.build(b).fetchCAFID(function(k,m){var n=new URL(b.url);k&&n.searchParams.append("cafId",k);m&&n.searchParams.append("cafASIN",m);b.shareUrl=new f(n.toString(),l);m=a(b,d);e.fetch({data:m,isAsync:g,
callback:function(a){c.stopTimer("CAF.fetchCAFAndTinyURL");h(a,k)}})},g)},prepareHmpShareUrl:function(b,d,e,g,k){var h=b.refId;c.logCounter("HMP.shareChannelClick."+b.ingress);c.startTimer("HMP.fetchPollIdAndTinyURL");h="hmp."+h;q.build(b).fetchHmpPollId(function(m){var n=new URL(b.url);m&&n.searchParams.append("hmpId",m);b.shareUrl=new f(n.toString(),h);b.url=n.toString();n=a(b,d);e.fetch({data:n,isAsync:g,callback:function(a){c.stopTimer("HMP.fetchPollIdAndTinyURL");l.trigger("ssf:event:hmpPollCreated",
b);k(a,m)}})},g)}}});"use strict";q.when("A","SocialShareWidget","SocialShareWidgetTiny").register("SocialShareWidgetNativeUtils",function(h,e,m){var g=e.SocialShareCore.ShareSheet,a=h.constants.HIDE_CLASS,k=e.SocialShareCore.Metrics,f=k.getMetricName(h.$);return{showSpinner:function(c){c.addClass("ssf-noclick");c.find(".a-spinner").removeClass(a);c.find("i").hide()},hideSpinner:function(c){c.removeClass("ssf-noclick");c.find(".a-spinner").addClass(a);c.find("i").show()},launchNativeShareSheet:function(a,
b,e,d){var c=this;this.showSpinner(a.$currentTarget);e=e({shareData:b});var l=b.shareDataAttributes.ingress;b=h.extend(b,{sheetShownCallback:function(){c.hideSpinner(a.$currentTarget)}});m.fetch({data:e,callback:function(e){b.tinyUrl=e;(new g(b)).launch(function(){d(b);k.logCounter("DPX.Desktop.SheetOpen");k.logCounter(f,"SheetOpen");k.logCounter("SheetOpen");k.logCounterRefactor("SheetOpen",l);c.hideSpinner(a.$currentTarget)})}})}}});"use strict";q.when("A","SocialShareWidget").register("SocialShareWidgetOnShareUtils",
function(h,e){var l=e.SocialShareCore.Constants;return{getOsType:function(){switch(!0){case h.capabilities.ios:return"ios";case h.capabilities.android:return"android";default:return"unknown"}},getChannelName:function(e){return e?e.replace(l.CUSTOM_SHARE_OPTIONS_REF_PREFIX+"_",""):""}}})});
/* ******** */
